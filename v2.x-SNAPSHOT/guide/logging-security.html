<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/images/f.ico"><link rel="shortcut icon" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/images/f.ico"><title>æ—¥å¿—å®‰å…¨ | dify-spring-boot-starter</title><meta name="description" content="æ—¥å¿—è„±æ•ä¸ SSE å®‰å…¨åŠ å›º">
    <link rel="preload" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/style-DHGKl7XJ.css" as="style"><link rel="stylesheet" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/style-DHGKl7XJ.css">
    <link rel="modulepreload" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/app-BskTWXfy.js"><link rel="modulepreload" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/logging-security.html-DPQV1Gw6.js">
    <link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/index.html-D8oBuOq5.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/custom.html-CXZbvWso.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/introduction.html-CZWm6rjO.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/index.html-_r0Xanxh.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/builder.html-DNEd7StI.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/config.html-BVaS5E0P.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/getting-started.html-C9eOIxc5.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/install.html-mn-9JaNl.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/introduction.html-VTcgwHKn.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/status.html-plquIZ2O.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/custom.html-DJ-VQbjL.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/introduction.html-Ps8DcIIS.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/builder.html-8hTFTMVa.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/config.html-q0EfdueD.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/getting-started.html-BFcZG7-2.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/install.html-Cgi3ppt9.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/introduction.html-D7iS_tbB.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/logging-security.html-DbNm8qlr.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/status.html-jXeFMqFc.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/chat.html-YwHwyxx2.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/dataset.html-CIkZXmVx.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/server.html-DdQqHrMc.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/workflow.html-4pMTCQV3.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/chat.html-C9i_-RDL.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/introduction.html-Bc5hzSf9.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/chat.html-ZweuFsLk.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/introduction.html-DykNzgCg.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/chat.html-DzreYozo.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/dataset.html-CDxTI0KY.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/server.html-BJ4gUQt5.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/workflow.html-Dxv0_PIV.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/404.html-xf3UEu-3.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/"><!----><span class="vp-site-name" aria-hidden="true">dify-spring-boot-starter</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="æŒ‡å—"><span class="title">æŒ‡å—</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="æŒ‡å—"><span class="title">æŒ‡å—</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/introduction.html" aria-label="ä»‹ç»"><!--[--><!--[--><!--]--><!--]-->ä»‹ç»<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/getting-started.html" aria-label="å¿«é€Ÿå¼€å§‹"><!--[--><!--[--><!--]--><!--]-->å¿«é€Ÿå¼€å§‹<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/install.html" aria-label="å®‰è£…"><!--[--><!--[--><!--]--><!--]-->å®‰è£…<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/config.html" aria-label="é…ç½®"><!--[--><!--[--><!--]--><!--]-->é…ç½®<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/builder.html" aria-label="å®¢æˆ·ç«¯æ„å»ºå™¨"><!--[--><!--[--><!--]--><!--]-->å®¢æˆ·ç«¯æ„å»ºå™¨<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/status.html" aria-label="æœåŠ¡çŠ¶æ€ç›‘æ§"><!--[--><!--[--><!--]--><!--]-->æœåŠ¡çŠ¶æ€ç›‘æ§<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/logging-security.html" aria-label="æ—¥å¿—å®‰å…¨"><!--[--><!--[--><!--]--><!--]-->æ—¥å¿—å®‰å…¨<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>åŠŸèƒ½</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/chat.html" aria-label="Chat API"><!--[--><!--[--><!--]--><!--]-->Chat API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/workflow.html" aria-label="Workflow API"><!--[--><!--[--><!--]--><!--]-->Workflow API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/dataset.html" aria-label="Dataset API"><!--[--><!--[--><!--]--><!--]-->Dataset API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/server.html" aria-label="Server API"><!--[--><!--[--><!--]--><!--]-->Server API<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>äº‹ä»¶</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/event/introduction.html" aria-label="ä»‹ç»"><!--[--><!--[--><!--]--><!--]-->ä»‹ç»<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/event/chat.html" aria-label="èŠå¤©äº‹ä»¶"><!--[--><!--[--><!--]--><!--]-->èŠå¤©äº‹ä»¶<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="é…ç½®"><span class="title">é…ç½®</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="é…ç½®"><span class="title">é…ç½®</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/config/introduction.html" aria-label="ä½¿ç”¨é…ç½®"><!--[--><!--[--><!--]--><!--]-->ä½¿ç”¨é…ç½®<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/config/custom.html" aria-label="è‡ªå®šä¹‰é…ç½®"><!--[--><!--[--><!--]--><!--]-->è‡ªå®šä¹‰é…ç½®<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="v2.1.0-SNAPSHOT"><span class="title">v2.1.0-SNAPSHOT</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="v2.1.0-SNAPSHOT"><span class="title">v2.1.0-SNAPSHOT</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter/" aria-label="v2.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v2.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter-doc/v1.x/" aria-label="v1.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v1.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter-doc/v0.x/" aria-label="v0.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v0.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter/releases" aria-label="æ›´æ–°æ—¥å¿—" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->æ›´æ–°æ—¥å¿—<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/logging-security.html" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--[--><!--]--><!--]-->ç®€ä½“ä¸­æ–‡<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/en/guide/logging-security.html" aria-label="English"><!--[--><!--[--><!--]--><!--]-->English<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="æŒ‡å—"><span class="title">æŒ‡å—</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="æŒ‡å—"><span class="title">æŒ‡å—</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/introduction.html" aria-label="ä»‹ç»"><!--[--><!--[--><!--]--><!--]-->ä»‹ç»<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/getting-started.html" aria-label="å¿«é€Ÿå¼€å§‹"><!--[--><!--[--><!--]--><!--]-->å¿«é€Ÿå¼€å§‹<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/install.html" aria-label="å®‰è£…"><!--[--><!--[--><!--]--><!--]-->å®‰è£…<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/config.html" aria-label="é…ç½®"><!--[--><!--[--><!--]--><!--]-->é…ç½®<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/builder.html" aria-label="å®¢æˆ·ç«¯æ„å»ºå™¨"><!--[--><!--[--><!--]--><!--]-->å®¢æˆ·ç«¯æ„å»ºå™¨<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/status.html" aria-label="æœåŠ¡çŠ¶æ€ç›‘æ§"><!--[--><!--[--><!--]--><!--]-->æœåŠ¡çŠ¶æ€ç›‘æ§<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/logging-security.html" aria-label="æ—¥å¿—å®‰å…¨"><!--[--><!--[--><!--]--><!--]-->æ—¥å¿—å®‰å…¨<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>åŠŸèƒ½</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/chat.html" aria-label="Chat API"><!--[--><!--[--><!--]--><!--]-->Chat API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/workflow.html" aria-label="Workflow API"><!--[--><!--[--><!--]--><!--]-->Workflow API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/dataset.html" aria-label="Dataset API"><!--[--><!--[--><!--]--><!--]-->Dataset API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/server.html" aria-label="Server API"><!--[--><!--[--><!--]--><!--]-->Server API<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>äº‹ä»¶</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/event/introduction.html" aria-label="ä»‹ç»"><!--[--><!--[--><!--]--><!--]-->ä»‹ç»<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/event/chat.html" aria-label="èŠå¤©äº‹ä»¶"><!--[--><!--[--><!--]--><!--]-->èŠå¤©äº‹ä»¶<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="é…ç½®"><span class="title">é…ç½®</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="é…ç½®"><span class="title">é…ç½®</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/config/introduction.html" aria-label="ä½¿ç”¨é…ç½®"><!--[--><!--[--><!--]--><!--]-->ä½¿ç”¨é…ç½®<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/config/custom.html" aria-label="è‡ªå®šä¹‰é…ç½®"><!--[--><!--[--><!--]--><!--]-->è‡ªå®šä¹‰é…ç½®<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="v2.1.0-SNAPSHOT"><span class="title">v2.1.0-SNAPSHOT</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="v2.1.0-SNAPSHOT"><span class="title">v2.1.0-SNAPSHOT</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter/" aria-label="v2.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v2.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter-doc/v1.x/" aria-label="v1.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v1.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter-doc/v0.x/" aria-label="v0.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v0.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter/releases" aria-label="æ›´æ–°æ—¥å¿—" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->æ›´æ–°æ—¥å¿—<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/logging-security.html" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--[--><!--]--><!--]-->ç®€ä½“ä¸­æ–‡<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/en/guide/logging-security.html" aria-label="English"><!--[--><!--[--><!--]--><!--]-->English<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">æŒ‡å— <span class="down arrow"></span></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/introduction.html" aria-label="ä»‹ç»"><!--[--><!--[--><!--]--><!--]-->ä»‹ç»<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/getting-started.html" aria-label="å¿«é€Ÿå¼€å§‹"><!--[--><!--[--><!--]--><!--]-->å¿«é€Ÿå¼€å§‹<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/install.html" aria-label="å®‰è£…"><!--[--><!--[--><!--]--><!--]-->å®‰è£…<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/config.html" aria-label="é…ç½®"><!--[--><!--[--><!--]--><!--]-->é…ç½®<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/builder.html" aria-label="å®¢æˆ·ç«¯æ„å»ºå™¨"><!--[--><!--[--><!--]--><!--]-->å®¢æˆ·ç«¯æ„å»ºå™¨<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/status.html" aria-label="æœåŠ¡çŠ¶æ€ç›‘æ§"><!--[--><!--[--><!--]--><!--]-->æœåŠ¡çŠ¶æ€ç›‘æ§<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/logging-security.html" aria-label="æ—¥å¿—å®‰å…¨"><!--[--><!--[--><!--]--><!--]-->æ—¥å¿—å®‰å…¨<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">åŠŸèƒ½ <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/chat.html" aria-label="Chat API"><!--[--><!--[--><!--]--><!--]-->Chat API<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/workflow.html" aria-label="Workflow API"><!--[--><!--[--><!--]--><!--]-->Workflow API<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/dataset.html" aria-label="Dataset API"><!--[--><!--[--><!--]--><!--]-->Dataset API<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/feature/server.html" aria-label="Server API"><!--[--><!--[--><!--]--><!--]-->Server API<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">äº‹ä»¶ <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/event/introduction.html" aria-label="ä»‹ç»"><!--[--><!--[--><!--]--><!--]-->ä»‹ç»<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/event/chat.html" aria-label="èŠå¤©äº‹ä»¶"><!--[--><!--[--><!--]--><!--]-->èŠå¤©äº‹ä»¶<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="æ—¥å¿—å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—å®‰å…¨"><span>æ—¥å¿—å®‰å…¨</span></a></h1><h2 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°"><span>æ¦‚è¿°</span></a></h2><p>ä¸ºäº†ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ä¸è¢«æ³„éœ²åˆ°æ—¥å¿—ä¸­ï¼Œdify-spring-boot-starter æä¾›äº†å®Œå–„çš„æ—¥å¿—è„±æ•åŠŸèƒ½ã€‚è¯¥åŠŸèƒ½é»˜è®¤å¯ç”¨ï¼Œå¯ä»¥è‡ªåŠ¨è¯†åˆ«å¹¶è„±æ•æ•æ„Ÿæ•°æ®ï¼ŒåŒ…æ‹¬ API Keyã€Tokenã€å¯†ç ã€Cookies ç­‰ã€‚</p><p>åŒæ—¶ï¼Œæ¡†æ¶è¿˜æä¾›äº† SSEï¼ˆServer-Sent Eventsï¼‰æµå¼å“åº”çš„å®‰å…¨ä¿æŠ¤ï¼Œé¿å…å› æ—¥å¿—è®°å½•å¯¼è‡´çš„æµå¼å“åº”é˜»å¡é—®é¢˜ã€‚</p><h2 id="åŠŸèƒ½ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#åŠŸèƒ½ç‰¹æ€§"><span>åŠŸèƒ½ç‰¹æ€§</span></a></h2><h3 id="ğŸ”’-æ•æ„Ÿä¿¡æ¯è„±æ•" tabindex="-1"><a class="header-anchor" href="#ğŸ”’-æ•æ„Ÿä¿¡æ¯è„±æ•"><span>ğŸ”’ æ•æ„Ÿä¿¡æ¯è„±æ•</span></a></h3><p>è‡ªåŠ¨è„±æ•ä»¥ä¸‹ç±»å‹çš„æ•æ„Ÿä¿¡æ¯ï¼š</p><ol><li><p><strong>HTTP Headers</strong></p><ul><li><code>Authorization</code></li><li><code>Cookie</code></li><li><code>Token</code></li><li><code>API-Key</code> / <code>ApiKey</code></li><li>å…¶ä»–åŒ…å«æ•æ„Ÿå…³é”®è¯çš„ header</li></ul></li><li><p><strong>URL å‚æ•°</strong></p><ul><li><code>api_key</code> / <code>apikey</code></li><li><code>token</code></li><li><code>authorization</code></li><li><code>password</code></li><li><code>secret</code></li><li><code>access_token</code></li><li><code>refresh_token</code></li></ul></li><li><p><strong>Cookies</strong></p><ul><li>æ‰€æœ‰ cookies åœ¨æ—¥å¿—ä¸­æ˜¾ç¤ºä¸º <code>***MASKED***</code></li></ul></li><li><p><strong>è¯·æ±‚/å“åº” Body</strong></p><ul><li>ä½¿ç”¨æ™ºèƒ½ MaskingEngine è¯†åˆ«å¹¶è„±æ•æ•æ„Ÿå­—æ®µ</li><li>æ”¯æŒ JSONã€è¡¨å•æ•°æ®ç­‰å¤šç§æ ¼å¼</li></ul></li></ol><h3 id="ğŸš€-sse-æµå¼å“åº”ä¿æŠ¤" tabindex="-1"><a class="header-anchor" href="#ğŸš€-sse-æµå¼å“åº”ä¿æŠ¤"><span>ğŸš€ SSE æµå¼å“åº”ä¿æŠ¤</span></a></h3><ul><li>è‡ªåŠ¨æ£€æµ‹ <code>Content-Type: text/event-stream</code> å“åº”</li><li>SSE å“åº”åªè®°å½• headersï¼Œä¸è¯»å– body</li><li>é¿å…å› æ—¥å¿—è®°å½•å¯¼è‡´çš„æµå¼æ¶ˆè´¹é˜»å¡</li><li>é˜²æ­¢å†…å­˜æº¢å‡ºå’Œè¿æ¥è¶…æ—¶</li></ul><h2 id="é…ç½®è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#é…ç½®è¯´æ˜"><span>é…ç½®è¯´æ˜</span></a></h2><h3 id="spring-boot-é…ç½®" tabindex="-1"><a class="header-anchor" href="#spring-boot-é…ç½®"><span>Spring Boot é…ç½®</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">dify</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">client-config</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">logging</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>                    <span class="token comment"># å¯ç”¨æ—¥å¿—è®°å½•ï¼Œé»˜è®¤ true</span></span>
<span class="line">    <span class="token key atrule">logging-mask-enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>       <span class="token comment"># å¯ç”¨æ—¥å¿—è„±æ•ï¼Œé»˜è®¤ true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="çº¯-java-é…ç½®" tabindex="-1"><a class="header-anchor" href="#çº¯-java-é…ç½®"><span>çº¯ Java é…ç½®</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>guoshiqiufeng<span class="token punctuation">.</span>dify<span class="token punctuation">.</span>core<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">DifyProperties</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>guoshiqiufeng<span class="token punctuation">.</span>dify<span class="token punctuation">.</span>client<span class="token punctuation">.</span>integration<span class="token punctuation">.</span>okhttp<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">JavaHttpClientFactory</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>guoshiqiufeng<span class="token punctuation">.</span>dify<span class="token punctuation">.</span>client<span class="token punctuation">.</span>codec<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span></span><span class="token class-name">JacksonJsonMapper</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// åˆ›å»ºå®¢æˆ·ç«¯é…ç½®</span></span>
<span class="line"><span class="token class-name">DifyProperties<span class="token punctuation">.</span>ClientConfig</span> clientConfig <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DifyProperties<span class="token punctuation">.</span>ClientConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">clientConfig<span class="token punctuation">.</span><span class="token function">setLogging</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// å¯ç”¨æ—¥å¿—</span></span>
<span class="line">clientConfig<span class="token punctuation">.</span><span class="token function">setLoggingMaskEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// å¯ç”¨è„±æ•ï¼ˆé»˜è®¤å€¼ï¼‰</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// åˆ›å»º HTTP å®¢æˆ·ç«¯å·¥å‚</span></span>
<span class="line"><span class="token class-name">JavaHttpClientFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JavaHttpClientFactory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JacksonJsonMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// åˆ›å»ºå®¢æˆ·ç«¯</span></span>
<span class="line"><span class="token class-name">DifyChatClient</span> client <span class="token operator">=</span> <span class="token class-name">DifyChatBuilder</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://api.dify.ai&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">clientConfig</span><span class="token punctuation">(</span>clientConfig<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">httpClientFactory</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é…ç½®å‚æ•°" tabindex="-1"><a class="header-anchor" href="#é…ç½®å‚æ•°"><span>é…ç½®å‚æ•°</span></a></h2><h3 id="logging" tabindex="-1"><a class="header-anchor" href="#logging"><span>logging</span></a></h3><ul><li><strong>ç±»å‹</strong>ï¼š<code>Boolean</code></li><li><strong>é»˜è®¤å€¼</strong>ï¼š<code>true</code></li><li><strong>è¯´æ˜</strong>ï¼šæ˜¯å¦å¯ç”¨æ—¥å¿—è®°å½•ã€‚éœ€è¦é…åˆæ—¥å¿—çº§åˆ« <code>DEBUG</code> ä½¿ç”¨ã€‚</li></ul><h3 id="loggingmaskenabled" tabindex="-1"><a class="header-anchor" href="#loggingmaskenabled"><span>loggingMaskEnabled</span></a></h3><ul><li><strong>ç±»å‹</strong>ï¼š<code>Boolean</code></li><li><strong>é»˜è®¤å€¼</strong>ï¼š<code>true</code></li><li><strong>è¯´æ˜</strong>ï¼šæ˜¯å¦å¯ç”¨æ—¥å¿—è„±æ•ã€‚å»ºè®®ç”Ÿäº§ç¯å¢ƒä¿æŒå¯ç”¨ä»¥ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ã€‚</li></ul><h2 id="ä½¿ç”¨ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹"><span>ä½¿ç”¨ç¤ºä¾‹</span></a></h2><h3 id="ç¤ºä¾‹-1-é»˜è®¤é…ç½®-æ¨è" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹-1-é»˜è®¤é…ç½®-æ¨è"><span>ç¤ºä¾‹ 1ï¼šé»˜è®¤é…ç½®ï¼ˆæ¨èï¼‰</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">dify</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//api.dify.ai</span>
<span class="line">  <span class="token key atrule">client-config</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">logging</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">    <span class="token key atrule">logging-mask-enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># é»˜è®¤å¯ç”¨ï¼Œå¯çœç•¥</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ—¥å¿—è¾“å‡ºç¤ºä¾‹ï¼š</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">ã€Difyã€‘Request: POST https://api.dify.ai/v1/chat-messages?api_key=***MASKED***</span>
<span class="line">ã€Difyã€‘Request Headers: {Authorization: ***MASKED***, Content-Type: application/json}</span>
<span class="line">ã€Difyã€‘Request Body: {&quot;query&quot;:&quot;ä½ å¥½&quot;,&quot;user&quot;:&quot;user-123&quot;}</span>
<span class="line">ã€Difyã€‘Response: 200 OK (123ms)</span>
<span class="line">ã€Difyã€‘Response Headers: {Content-Type: application/json}</span>
<span class="line">ã€Difyã€‘Response Body: {&quot;answer&quot;:&quot;ä½ å¥½ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ&quot;}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¤ºä¾‹-2-è°ƒè¯•æ¨¡å¼-å…³é—­è„±æ•" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹-2-è°ƒè¯•æ¨¡å¼-å…³é—­è„±æ•"><span>ç¤ºä¾‹ 2ï¼šè°ƒè¯•æ¨¡å¼ï¼ˆå…³é—­è„±æ•ï¼‰</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">dify</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//api.dify.ai</span>
<span class="line">  <span class="token key atrule">client-config</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">logging</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">    <span class="token key atrule">logging-mask-enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># å…³é—­è„±æ•ï¼Œç”¨äºè°ƒè¯•</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ—¥å¿—è¾“å‡ºç¤ºä¾‹ï¼š</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">ã€Difyã€‘Request: POST https://api.dify.ai/v1/chat-messages?api_key=app-abc123def456</span>
<span class="line">ã€Difyã€‘Request Headers: {Authorization: Bearer app-abc123def456, Content-Type: application/json}</span>
<span class="line">ã€Difyã€‘Request Body: {&quot;query&quot;:&quot;ä½ å¥½&quot;,&quot;user&quot;:&quot;user-123&quot;}</span>
<span class="line">ã€Difyã€‘Response: 200 OK (123ms)</span>
<span class="line">ã€Difyã€‘Response Headers: {Content-Type: application/json}</span>
<span class="line">ã€Difyã€‘Response Body: {&quot;answer&quot;:&quot;ä½ å¥½ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ&quot;}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¤ºä¾‹-3-sse-æµå¼å“åº”" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹-3-sse-æµå¼å“åº”"><span>ç¤ºä¾‹ 3ï¼šSSE æµå¼å“åº”</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">dify</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//api.dify.ai</span>
<span class="line">  <span class="token key atrule">client-config</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">logging</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">    <span class="token key atrule">logging-mask-enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ—¥å¿—è¾“å‡ºç¤ºä¾‹ï¼š</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">ã€Difyã€‘Request: POST https://api.dify.ai/v1/chat-messages</span>
<span class="line">ã€Difyã€‘Request Headers: {Authorization: ***MASKED***, Content-Type: application/json}</span>
<span class="line">ã€Difyã€‘Request Body: {&quot;query&quot;:&quot;ä½ å¥½&quot;,&quot;response_mode&quot;:&quot;streaming&quot;,&quot;user&quot;:&quot;user-123&quot;}</span>
<span class="line">ã€Difyã€‘Response: 200 OK (45ms)</span>
<span class="line">ã€Difyã€‘Response Headers: {Content-Type: text/event-stream}</span>
<span class="line">ã€Difyã€‘SSE response detected, skipping body logging to avoid blocking stream</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ—¥å¿—çº§åˆ«é…ç½®" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—çº§åˆ«é…ç½®"><span>æ—¥å¿—çº§åˆ«é…ç½®</span></a></h2><p>è¦å¯ç”¨æ—¥å¿—è¾“å‡ºï¼Œéœ€è¦é…ç½®æ—¥å¿—çº§åˆ«ä¸º <code>DEBUG</code>ï¼š</p><h3 id="logback-é…ç½®-spring-boot-é»˜è®¤" tabindex="-1"><a class="header-anchor" href="#logback-é…ç½®-spring-boot-é»˜è®¤"><span>Logback é…ç½®ï¼ˆSpring Boot é»˜è®¤ï¼‰</span></a></h3><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>io.github.guoshiqiufeng.dify.client<span class="token punctuation">&quot;</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DEBUG<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="application-yml-é…ç½®" tabindex="-1"><a class="header-anchor" href="#application-yml-é…ç½®"><span>application.yml é…ç½®</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">logging</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">level</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">io.github.guoshiqiufeng.dify.client</span><span class="token punctuation">:</span> DEBUG</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="log4j2-é…ç½®" tabindex="-1"><a class="header-anchor" href="#log4j2-é…ç½®"><span>Log4j2 é…ç½®</span></a></h3><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Configuration</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Loggers</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>io.github.guoshiqiufeng.dify.client<span class="token punctuation">&quot;</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DEBUG<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Loggers</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Configuration</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®‰å…¨æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#å®‰å…¨æœ€ä½³å®è·µ"><span>å®‰å…¨æœ€ä½³å®è·µ</span></a></h2><h3 id="_1-ç”Ÿäº§ç¯å¢ƒé…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-ç”Ÿäº§ç¯å¢ƒé…ç½®"><span>1. ç”Ÿäº§ç¯å¢ƒé…ç½®</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">dify</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">client-config</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">logging</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>                    <span class="token comment"># å¯ç”¨æ—¥å¿—ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥</span></span>
<span class="line">    <span class="token key atrule">logging-mask-enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>       <span class="token comment"># å¿…é¡»å¯ç”¨è„±æ•ï¼Œä¿æŠ¤æ•æ„Ÿä¿¡æ¯</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-å¼€å‘ç¯å¢ƒé…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-å¼€å‘ç¯å¢ƒé…ç½®"><span>2. å¼€å‘ç¯å¢ƒé…ç½®</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">dify</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">client-config</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">logging</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">    <span class="token key atrule">logging-mask-enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>      <span class="token comment"># å¯ä»¥å…³é—­è„±æ•ï¼Œä¾¿äºè°ƒè¯•</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-æ—¥å¿—çº§åˆ«å»ºè®®" tabindex="-1"><a class="header-anchor" href="#_3-æ—¥å¿—çº§åˆ«å»ºè®®"><span>3. æ—¥å¿—çº§åˆ«å»ºè®®</span></a></h3><ul><li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼š<code>INFO</code> æˆ– <code>WARN</code>ï¼ˆä¸è¾“å‡ºè¯¦ç»†æ—¥å¿—ï¼‰</li><li><strong>æµ‹è¯•ç¯å¢ƒ</strong>ï¼š<code>DEBUG</code>ï¼ˆè¾“å‡ºè¯¦ç»†æ—¥å¿—ï¼Œå¯ç”¨è„±æ•ï¼‰</li><li><strong>å¼€å‘ç¯å¢ƒ</strong>ï¼š<code>DEBUG</code>ï¼ˆè¾“å‡ºè¯¦ç»†æ—¥å¿—ï¼Œå¯é€‰æ‹©æ€§å…³é—­è„±æ•ï¼‰</li></ul><h3 id="_4-æ•æ„Ÿä¿¡æ¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_4-æ•æ„Ÿä¿¡æ¯å¤„ç†"><span>4. æ•æ„Ÿä¿¡æ¯å¤„ç†</span></a></h3><ul><li>âœ… <strong>æ¨è</strong>ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®ä¸­å¿ƒç®¡ç† API Key</li><li>âœ… <strong>æ¨è</strong>ï¼šå¯ç”¨æ—¥å¿—è„±æ•åŠŸèƒ½</li><li>âœ… <strong>æ¨è</strong>ï¼šå®šæœŸå®¡æŸ¥æ—¥å¿—è¾“å‡ºï¼Œç¡®ä¿æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²</li><li>âŒ <strong>é¿å…</strong>ï¼šåœ¨ä»£ç ä¸­ç¡¬ç¼–ç  API Key</li><li>âŒ <strong>é¿å…</strong>ï¼šå°†åŒ…å«æ•æ„Ÿä¿¡æ¯çš„æ—¥å¿—æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</li></ul><h2 id="æŠ€æœ¯å®ç°" tabindex="-1"><a class="header-anchor" href="#æŠ€æœ¯å®ç°"><span>æŠ€æœ¯å®ç°</span></a></h2><h3 id="è„±æ•æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#è„±æ•æœºåˆ¶"><span>è„±æ•æœºåˆ¶</span></a></h3><p>æ¡†æ¶ä½¿ç”¨ <code>MaskingEngine</code> è¿›è¡Œæ™ºèƒ½è„±æ•ï¼š</p><ol><li><strong>Header è„±æ•</strong>ï¼šæ£€æµ‹ header åç§°ï¼ŒåŒ¹é…æ•æ„Ÿå…³é”®è¯åˆ™è„±æ•</li><li><strong>URL å‚æ•°è„±æ•</strong>ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ•æ„Ÿå‚æ•°å</li><li><strong>Body è„±æ•</strong>ï¼šä½¿ç”¨è½»é‡çº§ Tokenizer è§£æ JSON/è¡¨å•æ•°æ®ï¼Œè¯†åˆ«æ•æ„Ÿå­—æ®µ</li></ol><h3 id="sse-æ£€æµ‹" tabindex="-1"><a class="header-anchor" href="#sse-æ£€æµ‹"><span>SSE æ£€æµ‹</span></a></h3><p>é€šè¿‡æ£€æµ‹ <code>Content-Type</code> header åˆ¤æ–­æ˜¯å¦ä¸º SSE å“åº”ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">isSseResponse</span><span class="token punctuation">(</span><span class="token class-name">MediaType</span> contentType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>contentType <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>contentType<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;event-stream&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>contentType<span class="token punctuation">.</span><span class="token function">subtype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ€§èƒ½å½±å“" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½å½±å“"><span>æ€§èƒ½å½±å“</span></a></h3><ul><li>æ—¥å¿—è„±æ•ä»…åœ¨ <code>DEBUG</code> çº§åˆ«ç”Ÿæ•ˆ</li><li>ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ <code>INFO</code> çº§åˆ«æ—¶ï¼Œè„±æ•é€»è¾‘ä¸ä¼šæ‰§è¡Œ</li><li>è„±æ•æ“ä½œä½¿ç”¨é«˜æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼å’Œå­—ç¬¦ä¸²æ“ä½œï¼Œæ€§èƒ½å½±å“å¯å¿½ç•¥</li></ul><h2 id="å¸¸è§é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é—®é¢˜"><span>å¸¸è§é—®é¢˜</span></a></h2><h3 id="q1-å¦‚ä½•ä¸´æ—¶å…³é—­è„±æ•è¿›è¡Œè°ƒè¯•" tabindex="-1"><a class="header-anchor" href="#q1-å¦‚ä½•ä¸´æ—¶å…³é—­è„±æ•è¿›è¡Œè°ƒè¯•"><span>Q1: å¦‚ä½•ä¸´æ—¶å…³é—­è„±æ•è¿›è¡Œè°ƒè¯•ï¼Ÿ</span></a></h3><p><strong>A:</strong> åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½® <code>logging-mask-enabled: false</code>ï¼š</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">dify</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">client-config</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">logging-mask-enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="q2-è„±æ•ä¼šå½±å“å®é™…çš„-api-è°ƒç”¨å—" tabindex="-1"><a class="header-anchor" href="#q2-è„±æ•ä¼šå½±å“å®é™…çš„-api-è°ƒç”¨å—"><span>Q2: è„±æ•ä¼šå½±å“å®é™…çš„ API è°ƒç”¨å—ï¼Ÿ</span></a></h3><p><strong>A:</strong> ä¸ä¼šã€‚è„±æ•åªå½±å“æ—¥å¿—è¾“å‡ºï¼Œä¸ä¼šä¿®æ”¹å®é™…çš„è¯·æ±‚å’Œå“åº”æ•°æ®ã€‚</p><h3 id="q3-å¦‚ä½•è‡ªå®šä¹‰è„±æ•è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#q3-å¦‚ä½•è‡ªå®šä¹‰è„±æ•è§„åˆ™"><span>Q3: å¦‚ä½•è‡ªå®šä¹‰è„±æ•è§„åˆ™ï¼Ÿ</span></a></h3><p><strong>A:</strong> å½“å‰ç‰ˆæœ¬ä½¿ç”¨å†…ç½®çš„è„±æ•è§„åˆ™ã€‚å¦‚éœ€è‡ªå®šä¹‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>LogMaskingUtils.createEngine()</code> åˆ›å»ºè‡ªå®šä¹‰ MaskingEngineï¼š</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>guoshiqiufeng<span class="token punctuation">.</span>dify<span class="token punctuation">.</span>core<span class="token punctuation">.</span>logging<span class="token punctuation">.</span>masking<span class="token punctuation">.</span></span><span class="token class-name">MaskingConfig</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>guoshiqiufeng<span class="token punctuation">.</span>dify<span class="token punctuation">.</span>core<span class="token punctuation">.</span>logging<span class="token punctuation">.</span>masking<span class="token punctuation">.</span></span><span class="token class-name">MaskingEngine</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">MaskingConfig</span> config <span class="token operator">=</span> <span class="token class-name">MaskingConfig</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">addSensitiveField</span><span class="token punctuation">(</span><span class="token string">&quot;custom_field&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">maxBodyLength</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">MaskingEngine</span> engine <span class="token operator">=</span> <span class="token class-name">LogMaskingUtils</span><span class="token punctuation">.</span><span class="token function">createEngine</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="q4-sse-å“åº”ä¸ºä»€ä¹ˆä¸è®°å½•-body" tabindex="-1"><a class="header-anchor" href="#q4-sse-å“åº”ä¸ºä»€ä¹ˆä¸è®°å½•-body"><span>Q4: SSE å“åº”ä¸ºä»€ä¹ˆä¸è®°å½• bodyï¼Ÿ</span></a></h3><p><strong>A:</strong> SSE æ˜¯æµå¼å“åº”ï¼Œå¦‚æœè¯»å– body ä¼šé˜»å¡æµçš„æ¶ˆè´¹ï¼Œå¯¼è‡´ï¼š</p><ul><li>å®¢æˆ·ç«¯æ— æ³•å®æ—¶æ¥æ”¶æ•°æ®</li><li>å¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºï¼ˆå¤§å‹æµå¼å“åº”ï¼‰</li><li>è¿æ¥è¶…æ—¶</li></ul><p>å› æ­¤ï¼ŒSSE å“åº”åªè®°å½• headersï¼Œä¸è¯»å– bodyã€‚</p><h3 id="q5-å¦‚ä½•éªŒè¯è„±æ•åŠŸèƒ½æ˜¯å¦ç”Ÿæ•ˆ" tabindex="-1"><a class="header-anchor" href="#q5-å¦‚ä½•éªŒè¯è„±æ•åŠŸèƒ½æ˜¯å¦ç”Ÿæ•ˆ"><span>Q5: å¦‚ä½•éªŒè¯è„±æ•åŠŸèƒ½æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ</span></a></h3><p><strong>A:</strong></p><ol><li>é…ç½®æ—¥å¿—çº§åˆ«ä¸º <code>DEBUG</code></li><li>å¯ç”¨ <code>logging-mask-enabled: true</code></li><li>å‘èµ·åŒ…å«æ•æ„Ÿä¿¡æ¯çš„è¯·æ±‚</li><li>æ£€æŸ¥æ—¥å¿—è¾“å‡ºï¼Œæ•æ„Ÿä¿¡æ¯åº”æ˜¾ç¤ºä¸º <code>***MASKED***</code></li></ol><h2 id="ç‰ˆæœ¬å†å²" tabindex="-1"><a class="header-anchor" href="#ç‰ˆæœ¬å†å²"><span>ç‰ˆæœ¬å†å²</span></a></h2><ul><li><strong>v2.1.0</strong>ï¼šå¢å¼ºæ—¥å¿—è„±æ•åŠŸèƒ½ï¼Œæ·»åŠ  SSE å®‰å…¨ä¿æŠ¤</li><li><strong>v2.0.0</strong>ï¼šå¼•å…¥ MaskingEngineï¼Œæ”¯æŒæ™ºèƒ½è„±æ•</li><li><strong>v1.x</strong>ï¼šåŸºç¡€æ—¥å¿—è®°å½•åŠŸèƒ½</li></ul><h2 id="ç›¸å…³æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#ç›¸å…³æ–‡æ¡£"><span>ç›¸å…³æ–‡æ¡£</span></a></h2><ul><li><a class="route-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/introduction.html">ä½¿ç”¨é…ç½®</a></li><li><a class="route-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/config/custom.html">è‡ªå®šä¹‰é…ç½®</a></li><li><a class="route-link" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/status.html">çŠ¶æ€ç›‘æ§</a></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter/edit/main/guide/logging-security.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><time class="meta-item-info" datetime="2026-02-05T04:05:11.000Z" data-allow-mismatch>2026/2/5 04:05</time></div><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/guide/status.html" aria-label="æœåŠ¡çŠ¶æ€ç›‘æ§"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">æœåŠ¡çŠ¶æ€ç›‘æ§</span></div><!--]--></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/dify-spring-boot-starter-doc/v2.x-SNAPSHOT/assets/app-BskTWXfy.js" defer></script>
  </body>
</html>
