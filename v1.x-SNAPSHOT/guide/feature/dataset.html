<!doctype html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.25" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/dify-spring-boot-starter/images/f.ico"><link rel="shortcut icon" href="/dify-spring-boot-starter/images/f.ico"><title>Dataset API | dify-spring-boot-starter</title><meta name="description" content="dify springboot 实现">
    <link rel="preload" href="/dify-spring-boot-starter-doc/assets/style-DCJTHD_z.css" as="style"><link rel="stylesheet" href="/dify-spring-boot-starter-doc/assets/style-DCJTHD_z.css">
    <link rel="modulepreload" href="/dify-spring-boot-starter-doc/assets/app-ro1_WAGl.js"><link rel="modulepreload" href="/dify-spring-boot-starter-doc/assets/dataset.html-5gc2YqJ0.js">
    <link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/index.html-DJpjWOmS.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/custom.html-C5oWmII5.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/introduction.html-BtbSN2Va.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/index.html-CjY33lH9.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/builder.html-rrohcvds.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/config.html-Dbw0EekC.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/getting-started.html-DCx1g22k.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/install.html-DnluAU0C.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/introduction.html-BKJsblYI.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/custom.html-DnucQdpJ.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/introduction.html-s4zMw_ha.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/builder.html-BoR5Qjxa.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/config.html-nRcAuxGj.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/getting-started.html-CJ6XFMkq.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/install.html-HpOen1i4.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/introduction.html-DTDyj7NY.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/chat.html-CsLcNDtY.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/introduction.html-DPXkfJnp.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/chat.html-C0dqVcCE.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/server.html-BQdMCk9C.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/workflow.html-BJ42p9mU.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/chat.html-BHYKEX-J.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/introduction.html-C51w1976.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/chat.html-COuEKmbi.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/dataset.html-CsQpZW50.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/server.html-ChLrFSKK.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/workflow.html-ICQCYiiF.js" as="script"><link rel="prefetch" href="/dify-spring-boot-starter-doc/assets/404.html-CGQe87Ln.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/dify-spring-boot-starter-doc/"><!----><span class="vp-site-name" aria-hidden="true">dify-spring-boot-starter</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="指南"><span class="title">指南</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="指南"><span class="title">指南</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/introduction.html" aria-label="介绍"><!--[--><!--[--><!--]--><!--]-->介绍<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/getting-started.html" aria-label="快速开始"><!--[--><!--[--><!--]--><!--]-->快速开始<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/install.html" aria-label="安装"><!--[--><!--[--><!--]--><!--]-->安装<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/config.html" aria-label="配置"><!--[--><!--[--><!--]--><!--]-->配置<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/builder.html" aria-label="客户端构建器"><!--[--><!--[--><!--]--><!--]-->客户端构建器<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>功能</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/feature/chat.html" aria-label="Chat API"><!--[--><!--[--><!--]--><!--]-->Chat API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/feature/workflow.html" aria-label="Workflow API"><!--[--><!--[--><!--]--><!--]-->Workflow API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/dify-spring-boot-starter-doc/guide/feature/dataset.html" aria-label="Dataset API"><!--[--><!--[--><!--]--><!--]-->Dataset API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/feature/server.html" aria-label="Server API"><!--[--><!--[--><!--]--><!--]-->Server API<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="配置"><span class="title">配置</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="配置"><span class="title">配置</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/config/introduction.html" aria-label="使用配置"><!--[--><!--[--><!--]--><!--]-->使用配置<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/config/custom.html" aria-label="自定义配置"><!--[--><!--[--><!--]--><!--]-->自定义配置<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="v1.4.0-SNAPSHOT"><span class="title">v1.4.0-SNAPSHOT</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="v1.4.0-SNAPSHOT"><span class="title">v1.4.0-SNAPSHOT</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter/" aria-label="v1.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v1.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter-doc/v0.x/" aria-label="v0.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v0.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter/releases" aria-label="更新日志" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->更新日志<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/dify-spring-boot-starter-doc/guide/feature/dataset.html" aria-label="简体中文"><!--[--><!--[--><!--]--><!--]-->简体中文<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/en/guide/feature/dataset.html" aria-label="English"><!--[--><!--[--><!--]--><!--]-->English<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="指南"><span class="title">指南</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="指南"><span class="title">指南</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/introduction.html" aria-label="介绍"><!--[--><!--[--><!--]--><!--]-->介绍<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/getting-started.html" aria-label="快速开始"><!--[--><!--[--><!--]--><!--]-->快速开始<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/install.html" aria-label="安装"><!--[--><!--[--><!--]--><!--]-->安装<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/config.html" aria-label="配置"><!--[--><!--[--><!--]--><!--]-->配置<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/builder.html" aria-label="客户端构建器"><!--[--><!--[--><!--]--><!--]-->客户端构建器<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>功能</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/feature/chat.html" aria-label="Chat API"><!--[--><!--[--><!--]--><!--]-->Chat API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/feature/workflow.html" aria-label="Workflow API"><!--[--><!--[--><!--]--><!--]-->Workflow API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/dify-spring-boot-starter-doc/guide/feature/dataset.html" aria-label="Dataset API"><!--[--><!--[--><!--]--><!--]-->Dataset API<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/guide/feature/server.html" aria-label="Server API"><!--[--><!--[--><!--]--><!--]-->Server API<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="配置"><span class="title">配置</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="配置"><span class="title">配置</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/config/introduction.html" aria-label="使用配置"><!--[--><!--[--><!--]--><!--]-->使用配置<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/config/custom.html" aria-label="自定义配置"><!--[--><!--[--><!--]--><!--]-->自定义配置<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="v1.4.0-SNAPSHOT"><span class="title">v1.4.0-SNAPSHOT</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="v1.4.0-SNAPSHOT"><span class="title">v1.4.0-SNAPSHOT</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter/" aria-label="v1.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v1.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://guoshiqiufeng.github.io/dify-spring-boot-starter-doc/v0.x/" aria-label="v0.x" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->v0.x<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter/releases" aria-label="更新日志" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->更新日志<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/dify-spring-boot-starter-doc/guide/feature/dataset.html" aria-label="简体中文"><!--[--><!--[--><!--]--><!--]-->简体中文<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/dify-spring-boot-starter-doc/en/guide/feature/dataset.html" aria-label="English"><!--[--><!--[--><!--]--><!--]-->English<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">指南 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/guide/introduction.html" aria-label="介绍"><!--[--><!--[--><!--]--><!--]-->介绍<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/guide/getting-started.html" aria-label="快速开始"><!--[--><!--[--><!--]--><!--]-->快速开始<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/guide/install.html" aria-label="安装"><!--[--><!--[--><!--]--><!--]-->安装<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/guide/config.html" aria-label="配置"><!--[--><!--[--><!--]--><!--]-->配置<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/guide/builder.html" aria-label="客户端构建器"><!--[--><!--[--><!--]--><!--]-->客户端构建器<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">功能 <span class="down arrow"></span></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/guide/feature/chat.html" aria-label="Chat API"><!--[--><!--[--><!--]--><!--]-->Chat API<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/guide/feature/workflow.html" aria-label="Workflow API"><!--[--><!--[--><!--]--><!--]-->Workflow API<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/dify-spring-boot-starter-doc/guide/feature/dataset.html" aria-label="Dataset API"><!--[--><!--[--><!--]--><!--]-->Dataset API<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dify-spring-boot-starter-doc/guide/feature/server.html" aria-label="Server API"><!--[--><!--[--><!--]--><!--]-->Server API<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="dataset-api" tabindex="-1"><a class="header-anchor" href="#dataset-api"><span>Dataset API</span></a></h1><h2 id="接口概述" tabindex="-1"><a class="header-anchor" href="#接口概述"><span>接口概述</span></a></h2><p>知识库服务接口提供完整的知识库管理功能集成能力，包含知识库创建、文档管理、分段管理、数据检索等核心功能。所有接口均需要有效的API密钥进行身份验证。 使用<code>DifyDataset</code>接口实例。</p><blockquote><p>以下所有接口都包含apikey，apikey 字段为选填，为空时默认使用配置文件中的 apikey</p></blockquote><h2 id="_1-知识库管理" tabindex="-1"><a class="header-anchor" href="#_1-知识库管理"><span>1. 知识库管理</span></a></h2><h3 id="_1-1-创建知识库" tabindex="-1"><a class="header-anchor" href="#_1-1-创建知识库"><span>1.1 创建知识库</span></a></h3><h4 id="方法" tabindex="-1"><a class="header-anchor" href="#方法"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DatasetResponse</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">DatasetCreateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数" tabindex="-1"><a class="header-anchor" href="#请求参数"><span>请求参数</span></a></h4><p>DatasetCreateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>是</td><td>知识库名称</td></tr><tr><td>description</td><td>String</td><td>否</td><td>知识库描述</td></tr><tr><td>permission</td><td>PermissionEnum</td><td>否</td><td>权限设置</td></tr><tr><td>provider</td><td>ProviderEnum</td><td>否</td><td>所属</td></tr><tr><td>indexingTechnique</td><td>IndexingTechniqueEnum</td><td>否</td><td>索引技术</td></tr></tbody></table><p><strong>ProviderEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>描述</th></tr></thead><tbody><tr><td>vendor</td><td>上传文件</td></tr><tr><td>external</td><td>外部知识库</td></tr></tbody></table><p><strong>PermissionEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>代码值</th><th>描述</th></tr></thead><tbody><tr><td>ONLY_ME</td><td>only_me</td><td>仅自己</td></tr><tr><td>ALL_TEAM_MEMBERS</td><td>all_team_members</td><td>所有团队成员</td></tr><tr><td>PARTIAL_MEMBERS</td><td>partial_members</td><td>部分团队成员</td></tr></tbody></table><p><strong>IndexingTechniqueEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>代码值</th><th>描述</th></tr></thead><tbody><tr><td>HIGH_QUALITY</td><td>high_quality</td><td>高质量</td></tr><tr><td>ECONOMY</td><td>economy</td><td>经济型</td></tr></tbody></table><h4 id="响应参数" tabindex="-1"><a class="header-anchor" href="#响应参数"><span>响应参数</span></a></h4><p>DatasetResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>知识库 id</td></tr><tr><td>name</td><td>String</td><td>知识库名称</td></tr><tr><td>description</td><td>String</td><td>知识库描述</td></tr><tr><td>permission</td><td>PermissionEnum</td><td>权限</td></tr><tr><td>dataSourceType</td><td>String</td><td>数据源类型</td></tr><tr><td>indexingTechnique</td><td>IndexingTechniqueEnum</td><td>索引技术</td></tr><tr><td>appCount</td><td>Integer</td><td>应用数量</td></tr><tr><td>documentCount</td><td>Integer</td><td>文档数量</td></tr><tr><td>wordCount</td><td>Integer</td><td>单词数量</td></tr><tr><td>createdBy</td><td>String</td><td>创建人</td></tr><tr><td>createdAt</td><td>Long</td><td>创建时间戳</td></tr><tr><td>updatedBy</td><td>String</td><td>更新人</td></tr><tr><td>updatedAt</td><td>Long</td><td>更新时间戳</td></tr></tbody></table><h3 id="_1-2-分页查询知识库列表" tabindex="-1"><a class="header-anchor" href="#_1-2-分页查询知识库列表"><span>1.2 分页查询知识库列表</span></a></h3><h4 id="方法-1" tabindex="-1"><a class="header-anchor" href="#方法-1"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DifyPageResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DatasetResponse</span><span class="token punctuation">&gt;</span></span> <span class="token function">page</span><span class="token punctuation">(</span><span class="token class-name">DatasetPageRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-1" tabindex="-1"><a class="header-anchor" href="#请求参数-1"><span>请求参数</span></a></h4><p>DatasetPageRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>page</td><td>Integer</td><td>否</td><td>页码，默认1</td></tr><tr><td>limit</td><td>Integer</td><td>否</td><td>每页记录数，默认20条</td></tr></tbody></table><h4 id="响应参数-1" tabindex="-1"><a class="header-anchor" href="#响应参数-1"><span>响应参数</span></a></h4><p><code>DifyPageResult&lt;DatasetResponse&gt;</code></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>list</td><td><code>List&lt;DatasetResponse&gt;</code></td><td>知识库列表</td></tr><tr><td>total</td><td>Long</td><td>总记录数</td></tr><tr><td>page</td><td>Integer</td><td>当前页码</td></tr><tr><td>limit</td><td>Integer</td><td>每页记录数</td></tr><tr><td>pages</td><td>Integer</td><td>总页数</td></tr></tbody></table><p>DatasetResponse 查看 1.1</p><h3 id="_1-3-知识库详情" tabindex="-1"><a class="header-anchor" href="#_1-3-知识库详情"><span>1.3 知识库详情</span></a></h3><h4 id="方法-2" tabindex="-1"><a class="header-anchor" href="#方法-2"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DatasetInfoResponse</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token class-name">DatasetInfoRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-2" tabindex="-1"><a class="header-anchor" href="#请求参数-2"><span>请求参数</span></a></h4><p>DatasetInfoRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr></tbody></table><h4 id="响应参数-2" tabindex="-1"><a class="header-anchor" href="#响应参数-2"><span>响应参数</span></a></h4><p>DatasetInfoResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>知识库 id</td></tr><tr><td>name</td><td>String</td><td>知识库名称</td></tr><tr><td>description</td><td>String</td><td>知识库描述</td></tr><tr><td>permission</td><td>PermissionEnum</td><td>权限</td></tr><tr><td>dataSourceType</td><td>String</td><td>数据源类型</td></tr><tr><td>indexingTechnique</td><td>IndexingTechniqueEnum</td><td>索引技术</td></tr><tr><td>appCount</td><td>Integer</td><td>应用数量</td></tr><tr><td>documentCount</td><td>Integer</td><td>文档数量</td></tr><tr><td>wordCount</td><td>Integer</td><td>单词数量</td></tr><tr><td>createdBy</td><td>String</td><td>创建人</td></tr><tr><td>createdAt</td><td>Long</td><td>创建时间戳</td></tr><tr><td>updatedBy</td><td>String</td><td>更新人</td></tr><tr><td>updatedAt</td><td>Long</td><td>更新时间戳</td></tr><tr><td>embeddingModel</td><td>String</td><td>嵌入模型</td></tr><tr><td>embeddingModelProvider</td><td>String</td><td>嵌入模型提供商</td></tr><tr><td>embeddingAvailable</td><td>Boolean</td><td>嵌入模型是否可用</td></tr><tr><td>retrievalModelDict</td><td>RetrievalModel</td><td>检索模型字典</td></tr><tr><td>tags</td><td><code>List&lt;String&gt;</code></td><td>标签列表</td></tr><tr><td>docForm</td><td>DocFormEnum</td><td>文档形式</td></tr><tr><td>externalKnowledgeInfo</td><td>ExternalKnowledgeInfo</td><td>外部知识信息</td></tr></tbody></table><p><strong>ExternalKnowledgeInfo 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>externalKnowledgeId</td><td>String</td><td>外部知识库 ID</td></tr><tr><td>externalKnowledgeApiId</td><td>String</td><td>外部知识库 API_ID</td></tr><tr><td>externalKnowledgeApiName</td><td>String</td><td>外部知识库 API 名称</td></tr><tr><td>externalKnowledgeApiEndpoint</td><td>String</td><td>外部知识库 API 端点</td></tr></tbody></table><h3 id="_1-4-修改知识库" tabindex="-1"><a class="header-anchor" href="#_1-4-修改知识库"><span>1.4 修改知识库</span></a></h3><h4 id="方法-3" tabindex="-1"><a class="header-anchor" href="#方法-3"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DatasetInfoResponse</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">DatasetUpdateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-3" tabindex="-1"><a class="header-anchor" href="#请求参数-3"><span>请求参数</span></a></h4><p>DatasetUpdateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>indexingTechnique</td><td>IndexingTechniqueEnum</td><td>否</td><td>索引模式</td></tr><tr><td>permission</td><td>PermissionEnum</td><td>否</td><td>权限</td></tr><tr><td>retrievalModel</td><td>RetrievalModel</td><td>否</td><td>检索模型</td></tr><tr><td>embeddingModel</td><td>String</td><td>否</td><td>嵌入模型</td></tr><tr><td>embeddingModelProvider</td><td>String</td><td>否</td><td>嵌入模型提供商</td></tr><tr><td>partialMemberList</td><td><code>List&lt;String&gt;</code></td><td>否</td><td>部分成员列表</td></tr></tbody></table><h4 id="响应参数-3" tabindex="-1"><a class="header-anchor" href="#响应参数-3"><span>响应参数</span></a></h4><p>DatasetInfoResponse 查看 1.3</p><h3 id="_1-5-删除知识库" tabindex="-1"><a class="header-anchor" href="#_1-5-删除知识库"><span>1.5 删除知识库</span></a></h3><h4 id="方法-4" tabindex="-1"><a class="header-anchor" href="#方法-4"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-4" tabindex="-1"><a class="header-anchor" href="#请求参数-4"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr></tbody></table><h4 id="响应参数-4" tabindex="-1"><a class="header-anchor" href="#响应参数-4"><span>响应参数</span></a></h4><p>无</p><h2 id="_2-文档管理" tabindex="-1"><a class="header-anchor" href="#_2-文档管理"><span>2. 文档管理</span></a></h2><h3 id="_2-1-通过文本创建文档" tabindex="-1"><a class="header-anchor" href="#_2-1-通过文本创建文档"><span>2.1 通过文本创建文档</span></a></h3><h4 id="方法-5" tabindex="-1"><a class="header-anchor" href="#方法-5"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DocumentCreateResponse</span> <span class="token function">createDocumentByText</span><span class="token punctuation">(</span><span class="token class-name">DocumentCreateByTextRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-5" tabindex="-1"><a class="header-anchor" href="#请求参数-5"><span>请求参数</span></a></h4><p>DocumentCreateByTextRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>name</td><td>String</td><td>是</td><td>文档名称</td></tr><tr><td>text</td><td>String</td><td>是</td><td>文档内容</td></tr><tr><td>docType</td><td>DocTypeEnum</td><td>否</td><td>文档类型</td></tr><tr><td>docMetadata</td><td><code>Map&lt;String, Object&gt;</code></td><td>否</td><td>文档元数据（如提供文档类型则必填）</td></tr><tr><td>indexingTechnique</td><td>IndexingTechniqueEnum</td><td>否</td><td>索引模式</td></tr><tr><td>docForm</td><td>DocFormEnum</td><td>否</td><td>文档形式</td></tr><tr><td>docLanguage</td><td>String</td><td>否</td><td>文档语言</td></tr><tr><td>processRule</td><td>ProcessRule</td><td>否</td><td>处理规则</td></tr><tr><td>retrievalModel</td><td>RetrievalModel</td><td>否</td><td>检索模型</td></tr><tr><td>embeddingModel</td><td>String</td><td>否</td><td>嵌入模型</td></tr><tr><td>embeddingModelProvider</td><td>String</td><td>否</td><td>嵌入模型提供商</td></tr></tbody></table><p><strong>DocTypeEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>描述</th></tr></thead><tbody><tr><td>book</td><td>图书</td></tr><tr><td>web_page</td><td>网页</td></tr><tr><td>paper</td><td>学术论文/文章</td></tr><tr><td>social_media_post</td><td>社交媒体帖子</td></tr><tr><td>wikipedia_entry</td><td>维基百科条目</td></tr><tr><td>personal_document</td><td>个人文档</td></tr><tr><td>business_document</td><td>商业文档</td></tr><tr><td>im_chat_log</td><td>即时通讯记录</td></tr><tr><td>synced_from_notion</td><td>Notion同步文档</td></tr><tr><td>synced_from_github</td><td>GitHub同步文档</td></tr><tr><td>others</td><td>其他文档类型</td></tr></tbody></table><p><strong>DocFormEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>描述</th></tr></thead><tbody><tr><td>text_model</td><td>文档直接embedding，经济模式默认为该模式</td></tr><tr><td>hierarchical_model</td><td>parent-child模式</td></tr><tr><td>qa_model</td><td>Q&amp;A模式：为分片文档生成Q&amp;A对，然后对问题进行embedding</td></tr></tbody></table><p><strong>ProcessRule 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>mode</td><td>ModeEnum</td><td>处理模式</td></tr><tr><td>rules</td><td>CustomRule</td><td>自定义规则</td></tr></tbody></table><p><strong>ModeEnum 对象结构</strong></p><table><thead><tr><th>枚举值</th><th>描述</th></tr></thead><tbody><tr><td>automatic</td><td>自动</td></tr><tr><td>hierarchical</td><td>parent-child模式</td></tr><tr><td>custom</td><td>自定义</td></tr></tbody></table><p><strong>CustomRule 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>preProcessingRules</td><td><code>List&lt;PreProcessingRule&gt;</code></td><td>预处理规则列表</td></tr><tr><td>segmentation</td><td>Segmentation</td><td>分段规则</td></tr><tr><td>parentMode</td><td>ParentModeEnum</td><td>父分段的召回模式</td></tr><tr><td>subChunkSegmentation</td><td>SubChunkSegmentation</td><td>子分段规则</td></tr></tbody></table><p><strong>PreProcessingRule 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>PreProcessingRuleTypeEnum</td><td>预处理规则的唯一标识符，如 remove_extra_spaces, remove_urls_emails</td></tr><tr><td>enabled</td><td>Boolean</td><td>是否选中该规则，不传入文档 ID 时代表默认值</td></tr></tbody></table><p><strong>Segmentation 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>separator</td><td>String</td><td>自定义分段标识符，目前仅允许设置一个分隔符。默认为 \n</td></tr><tr><td>maxTokens</td><td>Integer</td><td>最大长度（token）默认为 1000</td></tr></tbody></table><p><strong>SubChunkSegmentation 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>separator</td><td>String</td><td>自定义子分段标识符</td></tr><tr><td>maxTokens</td><td>Integer</td><td>子分段最大长度（token）</td></tr><tr><td>chunkOverlap</td><td>Integer</td><td>子分段重叠长度</td></tr></tbody></table><p><strong>ParentModeEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>描述</th></tr></thead><tbody><tr><td>FULL_DOC</td><td>全文召回</td></tr><tr><td>PARAGRAPH</td><td>段落召回</td></tr></tbody></table><p><strong>RetrievalModel 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>searchMethod</td><td>SearchMethodEnum</td><td>搜索方法</td></tr><tr><td>rerankingMode</td><td>RerankingModeEnum</td><td>重排序模式</td></tr><tr><td>rerankingEnable</td><td>Boolean</td><td>是否启用重排序</td></tr><tr><td>rerankingModel</td><td>RerankingModel</td><td>重排序模型</td></tr><tr><td>weights</td><td>RerankingModelWeight</td><td>权重</td></tr><tr><td>topK</td><td>Integer</td><td>返回结果数量</td></tr><tr><td>scoreThresholdEnabled</td><td>Boolean</td><td>是否启用分数阈值</td></tr><tr><td>scoreThreshold</td><td>Float</td><td>分数阈值</td></tr></tbody></table><p><strong>SearchMethodEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>描述</th></tr></thead><tbody><tr><td>keyword_search</td><td>关键字检索</td></tr><tr><td>hybrid_search</td><td>混合检索</td></tr><tr><td>semantic_search</td><td>语义检索</td></tr><tr><td>full_text_search</td><td>全文检索</td></tr></tbody></table><p><strong>RerankingModeEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>描述</th></tr></thead><tbody><tr><td>weighted_score</td><td>权重</td></tr><tr><td>reranking_model</td><td>重排序模型</td></tr></tbody></table><p><strong>RerankingModel 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>rerankingProviderName</td><td>String</td><td>重排序提供商名称</td></tr><tr><td>rerankingModelName</td><td>String</td><td>重排序模型名称</td></tr></tbody></table><p><strong>RerankingModelWeight 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>weightType</td><td>String</td><td>默认为 customized</td></tr><tr><td>vectorSetting</td><td>VectorSetting</td><td>语义权重</td></tr><tr><td>keywordSetting</td><td>KeywordSetting</td><td>关键词权重</td></tr></tbody></table><p><strong>VectorSetting 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>vectorWeight</td><td>Float</td><td>语义权重</td></tr><tr><td>embeddingModelName</td><td>String</td><td>嵌入模型</td></tr><tr><td>embeddingProviderName</td><td>String</td><td>嵌入模型提供商</td></tr></tbody></table><p><strong>KeywordSetting 对象结构</strong></p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>keywordWeight</td><td>Float</td><td>关键词权重</td></tr></tbody></table><h4 id="响应参数-5" tabindex="-1"><a class="header-anchor" href="#响应参数-5"><span>响应参数</span></a></h4><p>DocumentCreateResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>document</td><td>DocumentInfo</td><td>文档信息</td></tr><tr><td>batch</td><td>String</td><td>批次号</td></tr></tbody></table><p><strong>DocumentInfo 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>文档 id</td></tr><tr><td>position</td><td>Integer</td><td>位置</td></tr><tr><td>dataSourceType</td><td>String</td><td>数据源类型</td></tr><tr><td>dataSourceInfo</td><td><code>Map&lt;String, Object&gt;</code></td><td>数据源信息</td></tr><tr><td>datasetProcessRuleId</td><td>String</td><td>知识库处理规则ID</td></tr><tr><td>name</td><td>String</td><td>文档名称</td></tr><tr><td>createdFrom</td><td>String</td><td>创建来源</td></tr><tr><td>createdBy</td><td>String</td><td>创建人</td></tr><tr><td>createdAt</td><td>Long</td><td>创建时间戳</td></tr><tr><td>tokens</td><td>Integer</td><td>令牌数量</td></tr><tr><td>indexingStatus</td><td>String</td><td>索引状态</td></tr><tr><td>error</td><td>String</td><td>错误信息</td></tr><tr><td>enabled</td><td>String</td><td>是否启用</td></tr><tr><td>disabledAt</td><td>Long</td><td>禁用时间</td></tr><tr><td>disabledBy</td><td>String</td><td>禁用人</td></tr><tr><td>archived</td><td>String</td><td>是否归档</td></tr><tr><td>displayStatus</td><td>String</td><td>显示状态</td></tr><tr><td>wordCount</td><td>String</td><td>单词数量</td></tr><tr><td>hitCount</td><td>String</td><td>命中次数</td></tr><tr><td>docForm</td><td>String</td><td>文档形式</td></tr></tbody></table><h3 id="_2-2-通过文件创建文档" tabindex="-1"><a class="header-anchor" href="#_2-2-通过文件创建文档"><span>2.2 通过文件创建文档</span></a></h3><h4 id="方法-6" tabindex="-1"><a class="header-anchor" href="#方法-6"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DocumentCreateResponse</span> <span class="token function">createDocumentByFile</span><span class="token punctuation">(</span><span class="token class-name">DocumentCreateByFileRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-6" tabindex="-1"><a class="header-anchor" href="#请求参数-6"><span>请求参数</span></a></h4><p>DocumentCreateByFileRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>name</td><td>String</td><td>是</td><td>文档名称</td></tr><tr><td>file</td><td>MultipartFile</td><td>是</td><td>文档文件</td></tr><tr><td>docType</td><td>DocTypeEnum</td><td>否</td><td>文档类型</td></tr><tr><td>docMetadata</td><td><code>Map&lt;String, Object&gt;</code></td><td>否</td><td>文档元数据（如提供文档类型则必填）</td></tr><tr><td>indexingTechnique</td><td>IndexingTechniqueEnum</td><td>否</td><td>索引模式</td></tr><tr><td>docForm</td><td>DocFormEnum</td><td>否</td><td>文档形式</td></tr><tr><td>docLanguage</td><td>String</td><td>否</td><td>文档语言</td></tr><tr><td>processRule</td><td>ProcessRule</td><td>否</td><td>处理规则</td></tr><tr><td>retrievalModel</td><td>RetrievalModel</td><td>否</td><td>检索模型</td></tr><tr><td>embeddingModel</td><td>String</td><td>否</td><td>嵌入模型</td></tr><tr><td>embeddingModelProvider</td><td>String</td><td>否</td><td>嵌入模型提供商</td></tr></tbody></table><h4 id="响应参数-6" tabindex="-1"><a class="header-anchor" href="#响应参数-6"><span>响应参数</span></a></h4><p>DocumentCreateResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>document</td><td>DocumentInfo</td><td>文档信息</td></tr><tr><td>batch</td><td>String</td><td>批次号</td></tr></tbody></table><h3 id="_2-3-通过文本更新文档" tabindex="-1"><a class="header-anchor" href="#_2-3-通过文本更新文档"><span>2.3 通过文本更新文档</span></a></h3><h4 id="方法-7" tabindex="-1"><a class="header-anchor" href="#方法-7"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DocumentCreateResponse</span> <span class="token function">updateDocumentByText</span><span class="token punctuation">(</span><span class="token class-name">DocumentUpdateByTextRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-7" tabindex="-1"><a class="header-anchor" href="#请求参数-7"><span>请求参数</span></a></h4><p>DocumentUpdateByTextRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>name</td><td>String</td><td>否</td><td>文档名称</td></tr><tr><td>text</td><td>String</td><td>是</td><td>文档内容</td></tr><tr><td>docType</td><td>DocTypeEnum</td><td>否</td><td>文档类型</td></tr><tr><td>docMetadata</td><td><code>Map&lt;String, Object&gt;</code></td><td>否</td><td>文档元数据（如提供文档类型则必填）</td></tr><tr><td>indexingTechnique</td><td>IndexingTechniqueEnum</td><td>否</td><td>索引模式</td></tr><tr><td>docForm</td><td>DocFormEnum</td><td>否</td><td>文档形式</td></tr><tr><td>docLanguage</td><td>String</td><td>否</td><td>文档语言</td></tr><tr><td>processRule</td><td>ProcessRule</td><td>否</td><td>处理规则</td></tr></tbody></table><h4 id="响应参数-7" tabindex="-1"><a class="header-anchor" href="#响应参数-7"><span>响应参数</span></a></h4><p>DocumentCreateResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>document</td><td>DocumentInfo</td><td>文档信息</td></tr><tr><td>batch</td><td>String</td><td>批次号</td></tr></tbody></table><h3 id="_2-4-通过文件更新文档" tabindex="-1"><a class="header-anchor" href="#_2-4-通过文件更新文档"><span>2.4 通过文件更新文档</span></a></h3><h4 id="方法-8" tabindex="-1"><a class="header-anchor" href="#方法-8"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DocumentCreateResponse</span> <span class="token function">updateDocumentByFile</span><span class="token punctuation">(</span><span class="token class-name">DocumentUpdateByFileRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-8" tabindex="-1"><a class="header-anchor" href="#请求参数-8"><span>请求参数</span></a></h4><p>DocumentUpdateByFileRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>name</td><td>String</td><td>否</td><td>文档名称</td></tr><tr><td>file</td><td>MultipartFile</td><td>是</td><td>文档文件</td></tr><tr><td>docType</td><td>DocTypeEnum</td><td>否</td><td>文档类型</td></tr><tr><td>docMetadata</td><td><code>Map&lt;String, Object&gt;</code></td><td>否</td><td>文档元数据（如提供文档类型则必填）</td></tr><tr><td>indexingTechnique</td><td>IndexingTechniqueEnum</td><td>否</td><td>索引模式</td></tr><tr><td>docForm</td><td>DocFormEnum</td><td>否</td><td>文档形式</td></tr><tr><td>docLanguage</td><td>String</td><td>否</td><td>文档语言</td></tr><tr><td>processRule</td><td>ProcessRule</td><td>否</td><td>处理规则</td></tr></tbody></table><h4 id="响应参数-8" tabindex="-1"><a class="header-anchor" href="#响应参数-8"><span>响应参数</span></a></h4><p>DocumentCreateResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>document</td><td>DocumentInfo</td><td>文档信息</td></tr><tr><td>batch</td><td>String</td><td>批次号</td></tr></tbody></table><h3 id="_2-5-分页查询文档列表" tabindex="-1"><a class="header-anchor" href="#_2-5-分页查询文档列表"><span>2.5 分页查询文档列表</span></a></h3><h4 id="方法-9" tabindex="-1"><a class="header-anchor" href="#方法-9"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DifyPageResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DocumentInfo</span><span class="token punctuation">&gt;</span></span> <span class="token function">pageDocument</span><span class="token punctuation">(</span><span class="token class-name">DatasetPageDocumentRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-9" tabindex="-1"><a class="header-anchor" href="#请求参数-9"><span>请求参数</span></a></h4><p>DatasetPageDocumentRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>keyword</td><td>String</td><td>否</td><td>搜索关键词</td></tr><tr><td>page</td><td>Integer</td><td>否</td><td>页码，默认1</td></tr><tr><td>limit</td><td>Integer</td><td>否</td><td>每页记录数，默认20条</td></tr></tbody></table><h4 id="响应参数-9" tabindex="-1"><a class="header-anchor" href="#响应参数-9"><span>响应参数</span></a></h4><p><code>DifyPageResult&lt;DocumentInfo&gt;</code></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>list</td><td><code>List&lt;DocumentInfo&gt;</code></td><td>文档列表</td></tr><tr><td>total</td><td>Long</td><td>总记录数</td></tr><tr><td>page</td><td>Integer</td><td>当前页码</td></tr><tr><td>limit</td><td>Integer</td><td>每页记录数</td></tr><tr><td>pages</td><td>Integer</td><td>总页数</td></tr></tbody></table><p>DocumentInfo</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>文档 id</td></tr><tr><td>position</td><td>Integer</td><td>位置</td></tr><tr><td>dataSourceType</td><td>String</td><td>数据源类型</td></tr><tr><td>dataSourceInfo</td><td><code>Map&lt;String, Object&gt;</code></td><td>数据源信息</td></tr><tr><td>datasetProcessRuleId</td><td>String</td><td>知识库处理规则ID</td></tr><tr><td>name</td><td>String</td><td>文档名称</td></tr><tr><td>createdFrom</td><td>String</td><td>创建来源</td></tr><tr><td>createdBy</td><td>String</td><td>创建人</td></tr><tr><td>createdAt</td><td>Long</td><td>创建时间戳</td></tr><tr><td>tokens</td><td>Integer</td><td>令牌数量</td></tr><tr><td>indexingStatus</td><td>String</td><td>索引状态</td></tr><tr><td>error</td><td>String</td><td>错误信息</td></tr><tr><td>enabled</td><td>String</td><td>是否启用</td></tr><tr><td>disabledAt</td><td>Long</td><td>禁用时间</td></tr><tr><td>disabledBy</td><td>String</td><td>禁用人</td></tr><tr><td>archived</td><td>String</td><td>是否归档</td></tr><tr><td>displayStatus</td><td>String</td><td>显示状态</td></tr><tr><td>wordCount</td><td>String</td><td>单词数量</td></tr><tr><td>hitCount</td><td>String</td><td>命中次数</td></tr><tr><td>docForm</td><td>String</td><td>文档形式</td></tr></tbody></table><h3 id="_2-6-查询文档索引状态" tabindex="-1"><a class="header-anchor" href="#_2-6-查询文档索引状态"><span>2.6 查询文档索引状态</span></a></h3><h4 id="方法-10" tabindex="-1"><a class="header-anchor" href="#方法-10"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DocumentIndexingStatusResponse</span> <span class="token function">indexingStatus</span><span class="token punctuation">(</span><span class="token class-name">DocumentIndexingStatusRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-10" tabindex="-1"><a class="header-anchor" href="#请求参数-10"><span>请求参数</span></a></h4><p>DocumentIndexingStatusRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>batch</td><td>String</td><td>是</td><td>批次号</td></tr></tbody></table><h4 id="响应参数-10" tabindex="-1"><a class="header-anchor" href="#响应参数-10"><span>响应参数</span></a></h4><p>DocumentIndexingStatusResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>List&lt;ProcessingStatus&gt; </code></td><td>处理状态列表</td></tr></tbody></table><p><strong>ProcessingStatus 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>文档 id</td></tr><tr><td>indexingStatus</td><td>String</td><td>索引状态</td></tr><tr><td>processingStartedAt</td><td>Long</td><td>处理开始时间戳</td></tr><tr><td>parsingCompletedAt</td><td>Long</td><td>解析完成时间戳</td></tr><tr><td>cleaningCompletedAt</td><td>Long</td><td>清洗完成时间戳</td></tr><tr><td>splittingCompletedAt</td><td>Long</td><td>分片完成时间戳</td></tr><tr><td>completedAt</td><td>Long</td><td>处理完成时间戳</td></tr><tr><td>pausedAt</td><td>Long</td><td>暂停时间戳</td></tr><tr><td>error</td><td>String</td><td>错误信息</td></tr><tr><td>stoppedAt</td><td>Long</td><td>停止时间戳</td></tr><tr><td>completedSegments</td><td>Integer</td><td>已完成的分片数量</td></tr><tr><td>totalSegments</td><td>Integer</td><td>总分片数量</td></tr></tbody></table><h3 id="_2-7-删除文档" tabindex="-1"><a class="header-anchor" href="#_2-7-删除文档"><span>2.7 删除文档</span></a></h3><h4 id="方法-11" tabindex="-1"><a class="header-anchor" href="#方法-11"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">void</span> <span class="token function">deleteDocument</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> documentId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">deleteDocument</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> documentId<span class="token punctuation">,</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-11" tabindex="-1"><a class="header-anchor" href="#请求参数-11"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr></tbody></table><h4 id="响应参数-11" tabindex="-1"><a class="header-anchor" href="#响应参数-11"><span>响应参数</span></a></h4><p>无</p><h3 id="_2-8-获取上传文件信息" tabindex="-1"><a class="header-anchor" href="#_2-8-获取上传文件信息"><span>2.8 获取上传文件信息</span></a></h3><h4 id="方法-12" tabindex="-1"><a class="header-anchor" href="#方法-12"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">UploadFileInfoResponse</span> <span class="token function">uploadFileInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> documentId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">UploadFileInfoResponse</span> <span class="token function">uploadFileInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> documentId<span class="token punctuation">,</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-12" tabindex="-1"><a class="header-anchor" href="#请求参数-12"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr></tbody></table><h4 id="响应参数-12" tabindex="-1"><a class="header-anchor" href="#响应参数-12"><span>响应参数</span></a></h4><p>UploadFileInfoResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>文件ID</td></tr><tr><td>name</td><td>String</td><td>文件名</td></tr><tr><td>size</td><td>Integer</td><td>文件大小</td></tr><tr><td>extension</td><td>String</td><td>文件扩展名</td></tr><tr><td>url</td><td>String</td><td>文件访问URL</td></tr><tr><td>downloadUrl</td><td>String</td><td>文件下载URL</td></tr><tr><td>mimeType</td><td>String</td><td>MIME类型</td></tr><tr><td>createdBy</td><td>String</td><td>创建人</td></tr><tr><td>createdAt</td><td>Long</td><td>创建时间戳</td></tr></tbody></table><h3 id="_2-9-更新文档状态" tabindex="-1"><a class="header-anchor" href="#_2-9-更新文档状态"><span>2.9 更新文档状态</span></a></h3><h4 id="方法-13" tabindex="-1"><a class="header-anchor" href="#方法-13"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DatasetStatusResponse</span> <span class="token function">changeDocumentStatus</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> documentIds<span class="token punctuation">,</span> <span class="token class-name">DocActionEnum</span> status<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">DatasetStatusResponse</span> <span class="token function">changeDocumentStatus</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> documentIds<span class="token punctuation">,</span> <span class="token class-name">DocActionEnum</span> status<span class="token punctuation">,</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-13" tabindex="-1"><a class="header-anchor" href="#请求参数-13"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentIds</td><td><code>Set&lt;String&gt;</code></td><td>是</td><td>文档 ID 集合</td></tr><tr><td>status</td><td>DocActionEnum</td><td>是</td><td>状态</td></tr><tr><td>apiKey</td><td>String</td><td>否</td><td>API 密钥</td></tr></tbody></table><p><strong>DocActionEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>描述</th></tr></thead><tbody><tr><td>enable</td><td>启用</td></tr><tr><td>disable</td><td>禁用</td></tr><tr><td>archive</td><td>归档</td></tr><tr><td>un_archive</td><td>取消归档</td></tr></tbody></table><h4 id="响应参数-13" tabindex="-1"><a class="header-anchor" href="#响应参数-13"><span>响应参数</span></a></h4><p>DatasetStatusResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>result</td><td>String</td><td>操作结果，成功时返回 &quot;success&quot;</td></tr></tbody></table><h2 id="_3-分段管理" tabindex="-1"><a class="header-anchor" href="#_3-分段管理"><span>3. 分段管理</span></a></h2><h3 id="_3-1-创建分段" tabindex="-1"><a class="header-anchor" href="#_3-1-创建分段"><span>3.1 创建分段</span></a></h3><h4 id="方法-14" tabindex="-1"><a class="header-anchor" href="#方法-14"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">SegmentResponse</span> <span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token class-name">SegmentCreateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-14" tabindex="-1"><a class="header-anchor" href="#请求参数-14"><span>请求参数</span></a></h4><p>SegmentCreateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>segments</td><td><code>List&lt;SegmentParam&gt;</code></td><td>是</td><td>分段参数列表</td></tr></tbody></table><h4 id="响应参数-14" tabindex="-1"><a class="header-anchor" href="#响应参数-14"><span>响应参数</span></a></h4><p>SegmentResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>List&lt;SegmentData&gt;</code></td><td>分段数据列表</td></tr><tr><td>docForm</td><td>String</td><td>文档形式</td></tr></tbody></table><p><strong>SegmentData 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>分段 id</td></tr><tr><td>position</td><td>Integer</td><td>位置</td></tr><tr><td>content</td><td>String</td><td>分段内容</td></tr><tr><td>answer</td><td>String</td><td>答案</td></tr><tr><td>wordCount</td><td>Integer</td><td>单词数量</td></tr><tr><td>tokens</td><td>Integer</td><td>令牌数量</td></tr><tr><td>indexingStatus</td><td>String</td><td>索引状态</td></tr><tr><td>error</td><td>String</td><td>错误信息</td></tr><tr><td>enabled</td><td>String</td><td>是否启用</td></tr><tr><td>disabledAt</td><td>Long</td><td>禁用时间</td></tr><tr><td>disabledBy</td><td>String</td><td>禁用人</td></tr><tr><td>archived</td><td>Boolean</td><td>是否归档</td></tr></tbody></table><p><strong>SegmentParam 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>content</td><td>String</td><td>分段内容</td></tr><tr><td>answer</td><td>String</td><td>分段答案</td></tr><tr><td>keywords</td><td><code> List&lt;String&gt;</code></td><td>关键词列表</td></tr></tbody></table><h3 id="_3-2-分页查询分段列表" tabindex="-1"><a class="header-anchor" href="#_3-2-分页查询分段列表"><span>3.2 分页查询分段列表</span></a></h3><h4 id="方法-15" tabindex="-1"><a class="header-anchor" href="#方法-15"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">SegmentResponse</span> <span class="token function">pageSegment</span><span class="token punctuation">(</span><span class="token class-name">SegmentPageRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-15" tabindex="-1"><a class="header-anchor" href="#请求参数-15"><span>请求参数</span></a></h4><p>SegmentPageRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>keyword</td><td>String</td><td>否</td><td>搜索关键词</td></tr><tr><td>status</td><td>String</td><td>否</td><td>状态过滤</td></tr></tbody></table><h4 id="响应参数-15" tabindex="-1"><a class="header-anchor" href="#响应参数-15"><span>响应参数</span></a></h4><p>SegmentResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>List&lt;SegmentData&gt; </code></td><td>分段数据列表</td></tr><tr><td>docForm</td><td>String</td><td>文档形式</td></tr></tbody></table><p><strong>SegmentData 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>分段 id</td></tr><tr><td>position</td><td>Integer</td><td>位置</td></tr><tr><td>content</td><td>String</td><td>分段内容</td></tr><tr><td>answer</td><td>String</td><td>答案</td></tr><tr><td>wordCount</td><td>Integer</td><td>单词数量</td></tr><tr><td>tokens</td><td>Integer</td><td>令牌数量</td></tr><tr><td>indexingStatus</td><td>String</td><td>索引状态</td></tr><tr><td>error</td><td>String</td><td>错误信息</td></tr><tr><td>enabled</td><td>String</td><td>是否启用</td></tr><tr><td>disabledAt</td><td>Long</td><td>禁用时间</td></tr><tr><td>disabledBy</td><td>String</td><td>禁用人</td></tr><tr><td>archived</td><td>Boolean</td><td>是否归档</td></tr></tbody></table><h3 id="_3-3-删除分段" tabindex="-1"><a class="header-anchor" href="#_3-3-删除分段"><span>3.3 删除分段</span></a></h3><h4 id="方法-16" tabindex="-1"><a class="header-anchor" href="#方法-16"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">void</span> <span class="token function">deleteSegment</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> documentId<span class="token punctuation">,</span> <span class="token class-name">String</span> segmentId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">deleteSegment</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> documentId<span class="token punctuation">,</span> <span class="token class-name">String</span> segmentId<span class="token punctuation">,</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-16" tabindex="-1"><a class="header-anchor" href="#请求参数-16"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>segmentId</td><td>String</td><td>是</td><td>分段 id</td></tr></tbody></table><h4 id="响应参数-16" tabindex="-1"><a class="header-anchor" href="#响应参数-16"><span>响应参数</span></a></h4><p>无</p><h3 id="_3-4-更新分段" tabindex="-1"><a class="header-anchor" href="#_3-4-更新分段"><span>3.4 更新分段</span></a></h3><h4 id="方法-17" tabindex="-1"><a class="header-anchor" href="#方法-17"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">SegmentUpdateResponse</span> <span class="token function">updateSegment</span><span class="token punctuation">(</span><span class="token class-name">SegmentUpdateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-17" tabindex="-1"><a class="header-anchor" href="#请求参数-17"><span>请求参数</span></a></h4><p>SegmentUpdateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>segmentId</td><td>String</td><td>是</td><td>分段 id</td></tr><tr><td>segment</td><td>SegmentParam</td><td>是</td><td>分段参数</td></tr></tbody></table><h4 id="响应参数-17" tabindex="-1"><a class="header-anchor" href="#响应参数-17"><span>响应参数</span></a></h4><p>SegmentUpdateResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td>SegmentData</td><td>分段数据</td></tr><tr><td>docForm</td><td>String</td><td>文档形式</td></tr></tbody></table><p><strong>SegmentData 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>分段 id</td></tr><tr><td>position</td><td>Integer</td><td>位置</td></tr><tr><td>content</td><td>String</td><td>分段内容</td></tr><tr><td>answer</td><td>String</td><td>答案</td></tr><tr><td>wordCount</td><td>Integer</td><td>单词数量</td></tr><tr><td>tokens</td><td>Integer</td><td>令牌数量</td></tr><tr><td>indexingStatus</td><td>String</td><td>索引状态</td></tr><tr><td>error</td><td>String</td><td>错误信息</td></tr><tr><td>enabled</td><td>String</td><td>是否启用</td></tr><tr><td>disabledAt</td><td>Long</td><td>禁用时间</td></tr><tr><td>disabledBy</td><td>String</td><td>禁用人</td></tr><tr><td>archived</td><td>Boolean</td><td>是否归档</td></tr></tbody></table><p><strong>SegmentParam 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>content</td><td>String</td><td>分段内容</td></tr><tr><td>answer</td><td>String</td><td>分段答案</td></tr><tr><td>keywords</td><td><code>List&lt;String&gt;</code></td><td>关键词列表</td></tr></tbody></table><h2 id="_4-子分段管理" tabindex="-1"><a class="header-anchor" href="#_4-子分段管理"><span>4 子分段管理</span></a></h2><p>子分段（Child Chunk）是分段（Segment）的下一级细分单元，用于更细粒度的内容组织和检索。</p><h3 id="_4-1-创建子分段" tabindex="-1"><a class="header-anchor" href="#_4-1-创建子分段"><span>4.1 创建子分段</span></a></h3><h4 id="方法-18" tabindex="-1"><a class="header-anchor" href="#方法-18"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">SegmentChildChunkCreateResponse</span> <span class="token function">createSegmentChildChunk</span><span class="token punctuation">(</span><span class="token class-name">SegmentChildChunkCreateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-18" tabindex="-1"><a class="header-anchor" href="#请求参数-18"><span>请求参数</span></a></h4><p>SegmentChildChunkCreateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>segmentId</td><td>String</td><td>是</td><td>分段 id</td></tr><tr><td>content</td><td>String</td><td>是</td><td>子分段内容</td></tr></tbody></table><h4 id="响应参数-18" tabindex="-1"><a class="header-anchor" href="#响应参数-18"><span>响应参数</span></a></h4><p>SegmentChildChunkCreateResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td>SegmentChildChunkResponse</td><td>子分段数据</td></tr></tbody></table><p><strong>SegmentChildChunkResponse 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>子分段 id</td></tr><tr><td>segmentId</td><td>String</td><td>所属分段 id</td></tr><tr><td>content</td><td>String</td><td>子分段内容</td></tr><tr><td>wordCount</td><td>Integer</td><td>单词数量</td></tr><tr><td>tokens</td><td>Integer</td><td>令牌数量</td></tr><tr><td>indexNodeId</td><td>String</td><td>索引节点ID</td></tr><tr><td>indexNodeHash</td><td>String</td><td>索引节点哈希</td></tr><tr><td>status</td><td>String</td><td>状态</td></tr><tr><td>createdBy</td><td>String</td><td>创建人</td></tr><tr><td>createdAt</td><td>Long</td><td>创建时间戳</td></tr><tr><td>indexingAt</td><td>Long</td><td>索引时间戳</td></tr><tr><td>completedAt</td><td>Long</td><td>完成时间戳</td></tr><tr><td>error</td><td>String</td><td>错误信息</td></tr><tr><td>stoppedAt</td><td>Long</td><td>停止时间戳</td></tr></tbody></table><h3 id="_4-2-分页查询子分段列表" tabindex="-1"><a class="header-anchor" href="#_4-2-分页查询子分段列表"><span>4.2 分页查询子分段列表</span></a></h3><h4 id="方法-19" tabindex="-1"><a class="header-anchor" href="#方法-19"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DifyPageResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SegmentChildChunkResponse</span><span class="token punctuation">&gt;</span></span> <span class="token function">pageSegmentChildChunk</span><span class="token punctuation">(</span><span class="token class-name">SegmentChildChunkPageRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-19" tabindex="-1"><a class="header-anchor" href="#请求参数-19"><span>请求参数</span></a></h4><p>SegmentChildChunkPageRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>segmentId</td><td>String</td><td>是</td><td>分段 id</td></tr><tr><td>keyword</td><td>String</td><td>否</td><td>搜索关键词</td></tr><tr><td>page</td><td>Integer</td><td>否</td><td>页码</td></tr><tr><td>limit</td><td>Integer</td><td>否</td><td>每页记录数</td></tr></tbody></table><h4 id="响应参数-19" tabindex="-1"><a class="header-anchor" href="#响应参数-19"><span>响应参数</span></a></h4><p><code>DifyPageResult&lt;SegmentChildChunkResponse&gt;</code></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>list</td><td><code>List&lt;SegmentChildChunkResponse&gt;</code></td><td>子分段列表</td></tr><tr><td>total</td><td>Long</td><td>总记录数</td></tr><tr><td>page</td><td>Integer</td><td>当前页码</td></tr><tr><td>limit</td><td>Integer</td><td>每页记录数</td></tr><tr><td>pages</td><td>Integer</td><td>总页数</td></tr></tbody></table><h3 id="_4-3-更新子分段" tabindex="-1"><a class="header-anchor" href="#_4-3-更新子分段"><span>4.3 更新子分段</span></a></h3><h4 id="方法-20" tabindex="-1"><a class="header-anchor" href="#方法-20"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">SegmentChildChunkUpdateResponse</span> <span class="token function">updateSegmentChildChunk</span><span class="token punctuation">(</span><span class="token class-name">SegmentChildChunkUpdateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-20" tabindex="-1"><a class="header-anchor" href="#请求参数-20"><span>请求参数</span></a></h4><p>SegmentChildChunkUpdateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>segmentId</td><td>String</td><td>是</td><td>分段 id</td></tr><tr><td>childChunkId</td><td>String</td><td>是</td><td>子分段 id</td></tr><tr><td>content</td><td>String</td><td>是</td><td>子分段内容</td></tr></tbody></table><h4 id="响应参数-20" tabindex="-1"><a class="header-anchor" href="#响应参数-20"><span>响应参数</span></a></h4><p>SegmentChildChunkUpdateResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td>SegmentChildChunkResponse</td><td>子分段数据</td></tr></tbody></table><h3 id="_4-4-删除子分段" tabindex="-1"><a class="header-anchor" href="#_4-4-删除子分段"><span>4.4 删除子分段</span></a></h3><h4 id="方法-21" tabindex="-1"><a class="header-anchor" href="#方法-21"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"> <span class="token keyword">void</span> <span class="token function">deleteSegmentChildChunk</span><span class="token punctuation">(</span><span class="token class-name">SegmentChildChunkDeleteRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-21" tabindex="-1"><a class="header-anchor" href="#请求参数-21"><span>请求参数</span></a></h4><p>SegmentChildChunkDeleteRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>documentId</td><td>String</td><td>是</td><td>文档 id</td></tr><tr><td>segmentId</td><td>String</td><td>是</td><td>分段 id</td></tr><tr><td>childChunkId</td><td>String</td><td>是</td><td>子分段 id</td></tr></tbody></table><h4 id="响应参数-21" tabindex="-1"><a class="header-anchor" href="#响应参数-21"><span>响应参数</span></a></h4><p>无</p><h2 id="_5-数据检索" tabindex="-1"><a class="header-anchor" href="#_5-数据检索"><span>5. 数据检索</span></a></h2><h3 id="_5-1-检索数据" tabindex="-1"><a class="header-anchor" href="#_5-1-检索数据"><span>5.1 检索数据</span></a></h3><h4 id="方法-22" tabindex="-1"><a class="header-anchor" href="#方法-22"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">RetrieveResponse</span> <span class="token function">retrieve</span><span class="token punctuation">(</span><span class="token class-name">RetrieveRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-22" tabindex="-1"><a class="header-anchor" href="#请求参数-22"><span>请求参数</span></a></h4><p>RetrieveRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>query</td><td>String</td><td>是</td><td>检索查询内容</td></tr><tr><td>retrievalModel</td><td>RetrievalModel</td><td>否</td><td>检索模型</td></tr></tbody></table><h4 id="响应参数-22" tabindex="-1"><a class="header-anchor" href="#响应参数-22"><span>响应参数</span></a></h4><p>RetrieveResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>query</td><td>RetrieveQuery</td><td>查询信息</td></tr><tr><td>records</td><td><code>List&lt;RetrieveRecord&gt;</code></td><td>检索记录列表</td></tr></tbody></table><p><strong>RetrieveQuery 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>content</td><td>String</td><td>查询内容</td></tr></tbody></table><p><strong>RetrieveRecord 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>segment</td><td>Segment</td><td>分段信息</td></tr><tr><td>score</td><td>Float</td><td>相关性得分</td></tr><tr><td>tsnePosition</td><td>TsnePosition</td><td>TSNE位置信息</td></tr></tbody></table><p><strong>TsnePosition 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>Float</td><td>X坐标</td></tr><tr><td>y</td><td>Float</td><td>Y坐标</td></tr></tbody></table><p><strong>Segment 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>分段ID</td></tr><tr><td>position</td><td>Integer</td><td>位置</td></tr><tr><td>documentId</td><td>String</td><td>文档ID</td></tr><tr><td>content</td><td>String</td><td>分段内容</td></tr><tr><td>answer</td><td>String</td><td>答案</td></tr><tr><td>wordCount</td><td>Integer</td><td>单词数量</td></tr><tr><td>tokens</td><td>Integer</td><td>令牌数量</td></tr><tr><td>keywords</td><td><code>List&lt;String&gt;</code></td><td>关键词列表</td></tr><tr><td>indexNodeId</td><td>String</td><td>索引节点ID</td></tr><tr><td>indexNodeHash</td><td>String</td><td>索引节点哈希</td></tr><tr><td>hitCount</td><td>Integer</td><td>命中次数</td></tr><tr><td>enabled</td><td>String</td><td>是否启用</td></tr><tr><td>disabledAt</td><td>Long</td><td>禁用时间</td></tr><tr><td>disabledBy</td><td>String</td><td>禁用人</td></tr><tr><td>status</td><td>String</td><td>状态</td></tr><tr><td>createdAt</td><td>Long</td><td>创建时间</td></tr><tr><td>createdBy</td><td>String</td><td>创建人</td></tr><tr><td>indexingAt</td><td>Long</td><td>索引时间</td></tr><tr><td>completedAt</td><td>Long</td><td>完成时间</td></tr><tr><td>error</td><td>String</td><td>错误信息</td></tr><tr><td>stoppedAt</td><td>Long</td><td>停止时间</td></tr><tr><td>document</td><td>Document</td><td>文档信息</td></tr></tbody></table><p><strong>Document 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>文档ID</td></tr><tr><td>dataSourceType</td><td>String</td><td>数据源类型</td></tr><tr><td>name</td><td>String</td><td>文档名称</td></tr><tr><td>docType</td><td>String</td><td>文档类型</td></tr></tbody></table><h2 id="_6-元数据管理" tabindex="-1"><a class="header-anchor" href="#_6-元数据管理"><span>6. 元数据管理</span></a></h2><h3 id="_6-1-创建元数据" tabindex="-1"><a class="header-anchor" href="#_6-1-创建元数据"><span>6.1 创建元数据</span></a></h3><h4 id="方法-23" tabindex="-1"><a class="header-anchor" href="#方法-23"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">MetaDataResponse</span> <span class="token function">createMetaData</span><span class="token punctuation">(</span><span class="token class-name">MetaDataCreateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-23" tabindex="-1"><a class="header-anchor" href="#请求参数-23"><span>请求参数</span></a></h4><p>MetaDataCreateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>type</td><td>String</td><td>是</td><td>元数据类型</td></tr><tr><td>name</td><td>String</td><td>是</td><td>元数据名称</td></tr></tbody></table><h4 id="响应参数-23" tabindex="-1"><a class="header-anchor" href="#响应参数-23"><span>响应参数</span></a></h4><p>MetaDataResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>元数据ID</td></tr><tr><td>type</td><td>String</td><td>元数据类型</td></tr><tr><td>name</td><td>String</td><td>元数据名称</td></tr></tbody></table><h3 id="_6-2-更新元数据" tabindex="-1"><a class="header-anchor" href="#_6-2-更新元数据"><span>6.2 更新元数据</span></a></h3><h4 id="方法-24" tabindex="-1"><a class="header-anchor" href="#方法-24"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">MetaDataResponse</span> <span class="token function">updateMetaData</span><span class="token punctuation">(</span><span class="token class-name">MetaDataUpdateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-24" tabindex="-1"><a class="header-anchor" href="#请求参数-24"><span>请求参数</span></a></h4><p>MetaDataUpdateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>metaDataId</td><td>String</td><td>是</td><td>元数据 id</td></tr><tr><td>name</td><td>String</td><td>是</td><td>元数据名称</td></tr></tbody></table><h4 id="响应参数-24" tabindex="-1"><a class="header-anchor" href="#响应参数-24"><span>响应参数</span></a></h4><p>MetaDataResponse 查看 6.1</p><h3 id="_6-3-删除元数据" tabindex="-1"><a class="header-anchor" href="#_6-3-删除元数据"><span>6.3 删除元数据</span></a></h3><h4 id="方法-25" tabindex="-1"><a class="header-anchor" href="#方法-25"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">void</span> <span class="token function">deleteMetaData</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> metadataId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">deleteMetaData</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> metadataId<span class="token punctuation">,</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-25" tabindex="-1"><a class="header-anchor" href="#请求参数-25"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>metadataId</td><td>String</td><td>是</td><td>元数据 id</td></tr></tbody></table><h4 id="响应参数-25" tabindex="-1"><a class="header-anchor" href="#响应参数-25"><span>响应参数</span></a></h4><p>无</p><h3 id="_6-4-元数据操作" tabindex="-1"><a class="header-anchor" href="#_6-4-元数据操作"><span>6.4 元数据操作</span></a></h3><h4 id="方法-26" tabindex="-1"><a class="header-anchor" href="#方法-26"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">void</span> <span class="token function">actionMetaData</span><span class="token punctuation">(</span><span class="token class-name">MetaDataActionRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-26" tabindex="-1"><a class="header-anchor" href="#请求参数-26"><span>请求参数</span></a></h4><p>MetaDataActionRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>action</td><td>MetaDataActionEnum</td><td>是</td><td>操作类型</td></tr></tbody></table><p><strong>MetaDataActionEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>描述</th></tr></thead><tbody><tr><td>enable</td><td>启用</td></tr><tr><td>disable</td><td>禁用</td></tr></tbody></table><h4 id="响应参数-26" tabindex="-1"><a class="header-anchor" href="#响应参数-26"><span>响应参数</span></a></h4><p>无</p><h3 id="_6-5-更新文档元数据" tabindex="-1"><a class="header-anchor" href="#_6-5-更新文档元数据"><span>6.5 更新文档元数据</span></a></h3><h4 id="方法-27" tabindex="-1"><a class="header-anchor" href="#方法-27"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">void</span> <span class="token function">updateDocumentMetaData</span><span class="token punctuation">(</span><span class="token class-name">DocumentMetaDataUpdateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-27" tabindex="-1"><a class="header-anchor" href="#请求参数-27"><span>请求参数</span></a></h4><p>DocumentMetaDataUpdateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr><tr><td>operationData</td><td><code>List&lt;OperationData&gt; </code></td><td>是</td><td>操作数据列表</td></tr></tbody></table><p><strong>OperationData 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>documentId</td><td>String</td><td>文档ID</td></tr><tr><td>metadataList</td><td><code>List&lt;MetaData&gt; </code></td><td>元数据列表</td></tr></tbody></table><p><strong>MetaData 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>元数据ID</td></tr><tr><td>type</td><td>String</td><td>元数据类型</td></tr><tr><td>name</td><td>String</td><td>元数据名称</td></tr><tr><td>value</td><td>String</td><td>元数据值</td></tr></tbody></table><h4 id="响应参数-27" tabindex="-1"><a class="header-anchor" href="#响应参数-27"><span>响应参数</span></a></h4><p>无</p><h3 id="_6-6-获取元数据列表" tabindex="-1"><a class="header-anchor" href="#_6-6-获取元数据列表"><span>6.6 获取元数据列表</span></a></h3><h4 id="方法-28" tabindex="-1"><a class="header-anchor" href="#方法-28"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">MetaDataListResponse</span> <span class="token function">listMetaData</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">MetaDataListResponse</span> <span class="token function">listMetaData</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-28" tabindex="-1"><a class="header-anchor" href="#请求参数-28"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>知识库 id</td></tr></tbody></table><h4 id="响应参数-28" tabindex="-1"><a class="header-anchor" href="#响应参数-28"><span>响应参数</span></a></h4><p>MetaDataListResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>builtInFieldEnabled</td><td>Boolean</td><td>内置字段是否启用</td></tr><tr><td>docMetadata</td><td><code>List&lt;DocMetadata&gt; </code></td><td>文档元数据列表</td></tr></tbody></table><p><strong>DocMetadata 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>元数据ID</td></tr><tr><td>type</td><td>String</td><td>元数据类型</td></tr><tr><td>name</td><td>String</td><td>元数据名称</td></tr><tr><td>userCount</td><td>Integer</td><td>使用次数</td></tr></tbody></table><h2 id="_7-嵌入模型" tabindex="-1"><a class="header-anchor" href="#_7-嵌入模型"><span>7. 嵌入模型</span></a></h2><h3 id="_7-1-获取嵌入模型列表" tabindex="-1"><a class="header-anchor" href="#_7-1-获取嵌入模型列表"><span>7.1 获取嵌入模型列表</span></a></h3><h4 id="方法-29" tabindex="-1"><a class="header-anchor" href="#方法-29"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">TextEmbeddingListResponse</span> <span class="token function">listTextEmbedding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">TextEmbeddingListResponse</span> <span class="token function">listTextEmbedding</span><span class="token punctuation">(</span><span class="token class-name">String</span> apikey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-29" tabindex="-1"><a class="header-anchor" href="#请求参数-29"><span>请求参数</span></a></h4><p>无</p><h4 id="响应参数-29" tabindex="-1"><a class="header-anchor" href="#响应参数-29"><span>响应参数</span></a></h4><p>TextEmbeddingListResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>List&lt;TextEmbedding&gt;</code></td><td>嵌入模型列表</td></tr></tbody></table><p><strong>TextEmbedding 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>provider</td><td>String</td><td>提供商名称</td></tr><tr><td>label</td><td>TextEmbeddingLabel</td><td>标签信息</td></tr><tr><td>iconSmall</td><td>TextEmbeddingIcon</td><td>小图标</td></tr><tr><td>iconLarge</td><td>TextEmbeddingIcon</td><td>大图标</td></tr><tr><td>status</td><td>String</td><td>状态</td></tr><tr><td>models</td><td><code>List&lt;TextEmbeddingModel&gt;</code></td><td>模型列表</td></tr></tbody></table><p><strong>TextEmbeddingLabel 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>zhHans</td><td>String</td><td>中文简体标签</td></tr><tr><td>enUs</td><td>String</td><td>英文(美国)标签</td></tr></tbody></table><p><strong>TextEmbeddingIcon 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>zhHans</td><td>String</td><td>中文简体图标链接</td></tr><tr><td>enUs</td><td>String</td><td>英文(美国)图标链接</td></tr></tbody></table><p><strong>TextEmbeddingModel 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>model</td><td>String</td><td>模型标识符</td></tr><tr><td>label</td><td>TextEmbeddingLabel</td><td>模型标签</td></tr><tr><td>modelType</td><td>String</td><td>模型类型</td></tr><tr><td>features</td><td><code>List&lt;ModelFeatureEnum&gt;</code></td><td>特性列表</td></tr><tr><td>fetchFrom</td><td>String</td><td>获取来源</td></tr><tr><td>modelProperties</td><td>TextEmbeddingModelProperties</td><td>模型属性</td></tr><tr><td>deprecated</td><td>Boolean</td><td>是否已弃用</td></tr><tr><td>status</td><td>ModelStatusEnum</td><td>状态</td></tr><tr><td>loadBalancingEnabled</td><td>Boolean</td><td>是否启用负载均衡</td></tr></tbody></table><p><strong>TextEmbeddingModelProperties 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>contextSize</td><td>Integer</td><td>上下文大小</td></tr><tr><td>maxChunks</td><td>Integer</td><td>最大块数量</td></tr></tbody></table><p><strong>ModelStatusEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>代码值</th><th>描述</th></tr></thead><tbody><tr><td>ACTIVE</td><td>active</td><td>激活</td></tr><tr><td>NO_CONFIGURE</td><td>no-configure</td><td>未配置</td></tr><tr><td>QUOTA_EXCEEDED</td><td>quota-exceeded</td><td>配额超出</td></tr><tr><td>NO_PERMISSION</td><td>no-permission</td><td>无权限</td></tr><tr><td>DISABLED</td><td>disabled</td><td>已禁用</td></tr></tbody></table><p><strong>ModelFeatureEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>代码值</th><th>描述</th></tr></thead><tbody><tr><td>TOOL_CALL</td><td>tool-call</td><td>工具调用</td></tr><tr><td>MULTI_TOOL_CALL</td><td>multi-tool-call</td><td>多工具调用</td></tr><tr><td>AGENT_THOUGHT</td><td>agent-thought</td><td>代理思考</td></tr><tr><td>VISION</td><td>vision</td><td>视觉</td></tr><tr><td>STREAM_TOOL_CALL</td><td>stream-tool-call</td><td>流式工具调用</td></tr><tr><td>DOCUMENT</td><td>document</td><td>文档</td></tr><tr><td>VIDEO</td><td>video</td><td>视频</td></tr><tr><td>AUDIO</td><td>audio</td><td>音频</td></tr></tbody></table><h3 id="_7-2-获取重排序模型列表" tabindex="-1"><a class="header-anchor" href="#_7-2-获取重排序模型列表"><span>7.2 获取重排序模型列表</span></a></h3><h4 id="方法-30" tabindex="-1"><a class="header-anchor" href="#方法-30"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">TextEmbeddingListResponse</span> <span class="token function">listRerank</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">TextEmbeddingListResponse</span> <span class="token function">listRerank</span><span class="token punctuation">(</span><span class="token class-name">String</span> apikey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-30" tabindex="-1"><a class="header-anchor" href="#请求参数-30"><span>请求参数</span></a></h4><p>无</p><h4 id="响应参数-30" tabindex="-1"><a class="header-anchor" href="#响应参数-30"><span>响应参数</span></a></h4><p>TextEmbeddingListResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>List&lt;TextEmbedding&gt;</code></td><td>嵌入模型列表</td></tr></tbody></table><p><strong>TextEmbedding 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>provider</td><td>String</td><td>提供商名称</td></tr><tr><td>label</td><td>TextEmbeddingLabel</td><td>标签信息</td></tr><tr><td>iconSmall</td><td>TextEmbeddingIcon</td><td>小图标</td></tr><tr><td>iconLarge</td><td>TextEmbeddingIcon</td><td>大图标</td></tr><tr><td>status</td><td>String</td><td>状态</td></tr><tr><td>models</td><td><code>List&lt;TextEmbeddingModel&gt;</code></td><td>模型列表</td></tr></tbody></table><p><strong>TextEmbeddingLabel 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>zhHans</td><td>String</td><td>中文简体标签</td></tr><tr><td>enUs</td><td>String</td><td>英文(美国)标签</td></tr></tbody></table><p><strong>TextEmbeddingIcon 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>zhHans</td><td>String</td><td>中文简体图标链接</td></tr><tr><td>enUs</td><td>String</td><td>英文(美国)图标链接</td></tr></tbody></table><p><strong>TextEmbeddingModel 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>model</td><td>String</td><td>模型标识符</td></tr><tr><td>label</td><td>TextEmbeddingLabel</td><td>模型标签</td></tr><tr><td>modelType</td><td>String</td><td>模型类型</td></tr><tr><td>features</td><td><code>List&lt;ModelFeatureEnum&gt;</code></td><td>特性列表</td></tr><tr><td>fetchFrom</td><td>String</td><td>获取来源</td></tr><tr><td>modelProperties</td><td>TextEmbeddingModelProperties</td><td>模型属性</td></tr><tr><td>deprecated</td><td>Boolean</td><td>是否已弃用</td></tr><tr><td>status</td><td>ModelStatusEnum</td><td>状态</td></tr><tr><td>loadBalancingEnabled</td><td>Boolean</td><td>是否启用负载均衡</td></tr></tbody></table><p><strong>TextEmbeddingModelProperties 对象结构</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>contextSize</td><td>Integer</td><td>上下文大小</td></tr><tr><td>maxChunks</td><td>Integer</td><td>最大块数量</td></tr></tbody></table><p><strong>ModelStatusEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>代码值</th><th>描述</th></tr></thead><tbody><tr><td>ACTIVE</td><td>active</td><td>激活</td></tr><tr><td>NO_CONFIGURE</td><td>no-configure</td><td>未配置</td></tr><tr><td>QUOTA_EXCEEDED</td><td>quota-exceeded</td><td>配额超出</td></tr><tr><td>NO_PERMISSION</td><td>no-permission</td><td>无权限</td></tr><tr><td>DISABLED</td><td>disabled</td><td>已禁用</td></tr></tbody></table><p><strong>ModelFeatureEnum 枚举值</strong></p><table><thead><tr><th>枚举值</th><th>代码值</th><th>描述</th></tr></thead><tbody><tr><td>TOOL_CALL</td><td>tool-call</td><td>工具调用</td></tr><tr><td>MULTI_TOOL_CALL</td><td>multi-tool-call</td><td>多工具调用</td></tr><tr><td>AGENT_THOUGHT</td><td>agent-thought</td><td>代理思考</td></tr><tr><td>VISION</td><td>vision</td><td>视觉</td></tr><tr><td>STREAM_TOOL_CALL</td><td>stream-tool-call</td><td>流式工具调用</td></tr><tr><td>DOCUMENT</td><td>document</td><td>文档</td></tr><tr><td>VIDEO</td><td>video</td><td>视频</td></tr><tr><td>AUDIO</td><td>audio</td><td>音频</td></tr></tbody></table><hr><h2 id="_8-标签管理" tabindex="-1"><a class="header-anchor" href="#_8-标签管理"><span>8. 标签管理</span></a></h2><h3 id="_8-1-创建标签" tabindex="-1"><a class="header-anchor" href="#_8-1-创建标签"><span>8.1 创建标签</span></a></h3><h4 id="方法-31" tabindex="-1"><a class="header-anchor" href="#方法-31"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">TagInfoResponse</span> <span class="token function">createTag</span><span class="token punctuation">(</span><span class="token class-name">TagCreateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-31" tabindex="-1"><a class="header-anchor" href="#请求参数-31"><span>请求参数</span></a></h4><p>TagCreateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>是</td><td>标签名称，最大长度50</td></tr></tbody></table><h4 id="响应参数-31" tabindex="-1"><a class="header-anchor" href="#响应参数-31"><span>响应参数</span></a></h4><p>TagInfoResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>标签ID</td></tr><tr><td>name</td><td>String</td><td>标签名称</td></tr><tr><td>type</td><td>String</td><td>标签类型</td></tr><tr><td>bindingCount</td><td>Integer</td><td>绑定数量</td></tr></tbody></table><hr><h3 id="_8-2-查询标签列表" tabindex="-1"><a class="header-anchor" href="#_8-2-查询标签列表"><span>8.2 查询标签列表</span></a></h3><h4 id="方法-32" tabindex="-1"><a class="header-anchor" href="#方法-32"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TagInfoResponse</span><span class="token punctuation">&gt;</span></span> <span class="token function">listTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TagInfoResponse</span><span class="token punctuation">&gt;</span></span> <span class="token function">listTag</span><span class="token punctuation">(</span><span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-32" tabindex="-1"><a class="header-anchor" href="#请求参数-32"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>apiKey</td><td>String</td><td>否</td><td>API密钥（可选）</td></tr></tbody></table><h4 id="响应参数-32" tabindex="-1"><a class="header-anchor" href="#响应参数-32"><span>响应参数</span></a></h4><p>同 8.1 TagInfoResponse 列表</p><hr><h3 id="_8-3-更新标签" tabindex="-1"><a class="header-anchor" href="#_8-3-更新标签"><span>8.3 更新标签</span></a></h3><h4 id="方法-33" tabindex="-1"><a class="header-anchor" href="#方法-33"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">TagInfoResponse</span> <span class="token function">updateTag</span><span class="token punctuation">(</span><span class="token class-name">TagUpdateRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-33" tabindex="-1"><a class="header-anchor" href="#请求参数-33"><span>请求参数</span></a></h4><p>TagUpdateRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>tagId</td><td>String</td><td>是</td><td>标签ID</td></tr><tr><td>name</td><td>String</td><td>是</td><td>标签名称，最大长度50</td></tr></tbody></table><h4 id="响应参数-33" tabindex="-1"><a class="header-anchor" href="#响应参数-33"><span>响应参数</span></a></h4><p>同 8.1 TagInfoResponse</p><hr><h3 id="_8-4-删除标签" tabindex="-1"><a class="header-anchor" href="#_8-4-删除标签"><span>8.4 删除标签</span></a></h3><h4 id="方法-34" tabindex="-1"><a class="header-anchor" href="#方法-34"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">void</span> <span class="token function">deleteTag</span><span class="token punctuation">(</span><span class="token class-name">String</span> tagId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">deleteTag</span><span class="token punctuation">(</span><span class="token class-name">String</span> tagId<span class="token punctuation">,</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-34" tabindex="-1"><a class="header-anchor" href="#请求参数-34"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>tagId</td><td>String</td><td>是</td><td>标签ID</td></tr><tr><td>apiKey</td><td>String</td><td>否</td><td>API密钥（可选）</td></tr></tbody></table><h4 id="响应参数-34" tabindex="-1"><a class="header-anchor" href="#响应参数-34"><span>响应参数</span></a></h4><p>无</p><hr><h3 id="_8-5-绑定标签到资源" tabindex="-1"><a class="header-anchor" href="#_8-5-绑定标签到资源"><span>8.5 绑定标签到资源</span></a></h3><h4 id="方法-35" tabindex="-1"><a class="header-anchor" href="#方法-35"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">void</span> <span class="token function">bindingTag</span><span class="token punctuation">(</span><span class="token class-name">TagBindingRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-35" tabindex="-1"><a class="header-anchor" href="#请求参数-35"><span>请求参数</span></a></h4><p>TagBindingRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>tagIds</td><td><code>List&lt;String&gt;</code></td><td>是</td><td>标签ID列表</td></tr><tr><td>targetId</td><td>String</td><td>是</td><td>目标ID（如数据集ID）</td></tr></tbody></table><h4 id="响应参数-35" tabindex="-1"><a class="header-anchor" href="#响应参数-35"><span>响应参数</span></a></h4><p>无</p><hr><h3 id="_8-6-解绑标签" tabindex="-1"><a class="header-anchor" href="#_8-6-解绑标签"><span>8.6 解绑标签</span></a></h3><h4 id="方法-36" tabindex="-1"><a class="header-anchor" href="#方法-36"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">void</span> <span class="token function">unbindingTag</span><span class="token punctuation">(</span><span class="token class-name">TagUnbindingRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="请求参数-36" tabindex="-1"><a class="header-anchor" href="#请求参数-36"><span>请求参数</span></a></h4><p>TagUnbindingRequest</p><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>tagId</td><td>String</td><td>是</td><td>标签ID</td></tr><tr><td>targetId</td><td>String</td><td>是</td><td>目标ID（如数据集ID）</td></tr></tbody></table><h4 id="响应参数-36" tabindex="-1"><a class="header-anchor" href="#响应参数-36"><span>响应参数</span></a></h4><p>无</p><hr><h3 id="_8-7-查询数据集已绑定标签" tabindex="-1"><a class="header-anchor" href="#_8-7-查询数据集已绑定标签"><span>8.7 查询数据集已绑定标签</span></a></h3><h4 id="方法-37" tabindex="-1"><a class="header-anchor" href="#方法-37"><span>方法</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DataSetTagsResponse</span> <span class="token function">listDatasetTag</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">DataSetTagsResponse</span> <span class="token function">listDatasetTag</span><span class="token punctuation">(</span><span class="token class-name">String</span> datasetId<span class="token punctuation">,</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="请求参数-37" tabindex="-1"><a class="header-anchor" href="#请求参数-37"><span>请求参数</span></a></h4><table><thead><tr><th>参数名</th><th>类型</th><th>是否必须</th><th>描述</th></tr></thead><tbody><tr><td>datasetId</td><td>String</td><td>是</td><td>数据集ID</td></tr><tr><td>apiKey</td><td>String</td><td>否</td><td>API密钥（可选）</td></tr></tbody></table><h4 id="响应参数-37" tabindex="-1"><a class="header-anchor" href="#响应参数-37"><span>响应参数</span></a></h4><p>DataSetTagsResponse</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>List&lt;DataSetTagInfo&gt;</code></td><td>标签信息列表</td></tr><tr><td>total</td><td>Integer</td><td>标签总数</td></tr></tbody></table><p>DataSetTagInfo 结构请参考实际实现。</p><hr><blockquote><p>所有标签相关接口均需有效API密钥，未传递时默认使用配置文件中的 apikey。</p></blockquote></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/guoshiqiufeng/dify-spring-boot-starter/edit/main/guide/feature/dataset.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->在 GitHub 上编辑此页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">上次更新: </span><time class="meta-item-info" datetime="2025-08-26T05:42:54.000Z" data-allow-mismatch>2025/8/26 13:42</time></div><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/dify-spring-boot-starter-doc/guide/feature/workflow.html" aria-label="Workflow API"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">Workflow API</span></div><!--]--></a><a class="route-link auto-link next" href="/dify-spring-boot-starter-doc/guide/feature/server.html" aria-label="Server API"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">Server API</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/dify-spring-boot-starter-doc/assets/app-ro1_WAGl.js" defer></script>
  </body>
</html>
