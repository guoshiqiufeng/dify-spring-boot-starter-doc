import{_ as a,c as s,a as t,o as e}from"./app-BDMvVRGN.js";const p={};function i(o,n){return e(),s("div",null,[...n[0]||(n[0]=[t(`<h1 id="server-api" tabindex="-1"><a class="header-anchor" href="#server-api"><span>Server API</span></a></h1><h2 id="interface-overview" tabindex="-1"><a class="header-anchor" href="#interface-overview"><span>Interface Overview</span></a></h2><p>The Server API provides comprehensive functionality for interacting with the Dify platform, including managing applications, retrieving and initializing API keys for both applications and datasets. All interfaces require a valid API key for authentication. Use the <code>DifyServer</code> interface instance.</p><blockquote><p>By default, if the current environment contains redis, then use redis to persist the token, if not, then use the default implementation to save the token (it will be lost if the service is restarted).</p></blockquote><h2 id="_1-application-management" tabindex="-1"><a class="header-anchor" href="#_1-application-management"><span>1. Application Management</span></a></h2><h3 id="_1-1-get-all-applications-non-paginated" tabindex="-1"><a class="header-anchor" href="#_1-1-get-all-applications-non-paginated"><span>1.1 Get All Applications (Non-Paginated)</span></a></h3><h4 id="method" tabindex="-1"><a class="header-anchor" href="#method"><span>Method</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppsResponseVO</span><span class="token punctuation">&gt;</span></span> <span class="token function">apps</span><span class="token punctuation">(</span><span class="token class-name">String</span> mode<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="request-parameters" tabindex="-1"><a class="header-anchor" href="#request-parameters"><span>Request Parameters</span></a></h4><table><thead><tr><th>Parameter name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>mode</td><td>String</td><td>No</td><td>mode chat\\agent-chat\\completion\\advanced-chat\\workflow</td></tr><tr><td>name</td><td>String</td><td>No</td><td>Application name, used to filter the application list (optional)</td></tr></tbody></table><h4 id="response-parameters" tabindex="-1"><a class="header-anchor" href="#response-parameters"><span>Response Parameters</span></a></h4><p>AppsResponseVO</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>Application ID</td></tr><tr><td>name</td><td>String</td><td>Application name</td></tr><tr><td>maxActiveRequests</td><td>Integer</td><td>Maximum active requests</td></tr><tr><td>description</td><td>String</td><td>Application description</td></tr><tr><td>mode</td><td>String</td><td>Application mode</td></tr><tr><td>iconType</td><td>String</td><td>Icon type</td></tr><tr><td>icon</td><td>String</td><td>Icon</td></tr><tr><td>iconBackground</td><td>String</td><td>Icon background</td></tr><tr><td>iconUrl</td><td>String</td><td>Icon URL</td></tr><tr><td>modelConfig</td><td>ModelConfig</td><td>Model configuration</td></tr><tr><td>workflow</td><td>Object</td><td>Workflow information</td></tr><tr><td>useIconAsAnswerIcon</td><td>Boolean</td><td>Whether to use icon as answer icon</td></tr><tr><td>createdBy</td><td>String</td><td>Creator ID</td></tr><tr><td>createdAt</td><td>Long</td><td>Creation time (timestamp)</td></tr><tr><td>updatedBy</td><td>String</td><td>Updater ID</td></tr><tr><td>updatedAt</td><td>Long</td><td>Update time (timestamp)</td></tr><tr><td>tags</td><td><code>List&lt;String&gt;</code></td><td>Application tags</td></tr></tbody></table><p>ModelConfig</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>model</td><td>Model</td><td>Model information</td></tr><tr><td>prePrompt</td><td>String</td><td>Pre-prompt text</td></tr><tr><td>createdBy</td><td>String</td><td>Creator ID</td></tr><tr><td>createdAt</td><td>Long</td><td>Creation time (timestamp)</td></tr><tr><td>updatedBy</td><td>String</td><td>Updater ID</td></tr><tr><td>updatedAt</td><td>Long</td><td>Update time (timestamp)</td></tr></tbody></table><p>Model</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>provider</td><td>String</td><td>Model provider</td></tr><tr><td>name</td><td>String</td><td>Model name</td></tr><tr><td>mode</td><td>String</td><td>Model mode</td></tr><tr><td>completionParams</td><td>CompletionParams</td><td>Completion parameters</td></tr></tbody></table><p>CompletionParams</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>stop</td><td><code>List&lt;String&gt;</code></td><td>Stop sequences</td></tr></tbody></table><h4 id="request-example" tabindex="-1"><a class="header-anchor" href="#request-example"><span>Request Example</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Resource</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">DifyServer</span> difyServer<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGetApps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Get all applications</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppsResponseVO</span><span class="token punctuation">&gt;</span></span> apps <span class="token operator">=</span> difyServer<span class="token punctuation">.</span><span class="token function">apps</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Get applications with name filter</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppsResponseVO</span><span class="token punctuation">&gt;</span></span> filteredApps <span class="token operator">=</span> difyServer<span class="token punctuation">.</span><span class="token function">apps</span><span class="token punctuation">(</span><span class="token string">&quot;myApp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-get-applications-with-pagination" tabindex="-1"><a class="header-anchor" href="#_1-2-get-applications-with-pagination"><span>1.2 Get Applications with Pagination</span></a></h3><h4 id="method-1" tabindex="-1"><a class="header-anchor" href="#method-1"><span>Method</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">AppsResponseResult</span> <span class="token function">apps</span><span class="token punctuation">(</span><span class="token class-name">AppsRequest</span> appsRequest<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="request-parameters-1" tabindex="-1"><a class="header-anchor" href="#request-parameters-1"><span>Request Parameters</span></a></h4><p>AppsRequest</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>page</td><td>Integer</td><td>No</td><td>Page number (default: 1)</td></tr><tr><td>limit</td><td>Integer</td><td>No</td><td>Number of items per page (default: 20, range: 1-100)</td></tr><tr><td>mode</td><td>String</td><td>No</td><td>Application mode filter: chat\\agent-chat\\completion\\advanced-chat\\workflow</td></tr><tr><td>name</td><td>String</td><td>No</td><td>Application name filter</td></tr><tr><td>isCreatedByMe</td><td>Boolean</td><td>No</td><td>Whether the application is created by the current user</td></tr></tbody></table><h4 id="response-parameters-1" tabindex="-1"><a class="header-anchor" href="#response-parameters-1"><span>Response Parameters</span></a></h4><p>AppsResponseResult</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>data</td><td><code>List&lt;AppsResponse&gt;</code></td><td>Current page data list</td></tr><tr><td>hasMore</td><td>Boolean</td><td>Whether there are more pages</td></tr><tr><td>limit</td><td>Integer</td><td>Items per page</td></tr><tr><td>page</td><td>Integer</td><td>Current page number</td></tr><tr><td>total</td><td>Integer</td><td>Total number of items</td></tr></tbody></table><p>The structure of AppsResponse is the same as defined above in section 1.1.</p><h4 id="request-example-1" tabindex="-1"><a class="header-anchor" href="#request-example-1"><span>Request Example</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Resource</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">DifyServer</span> difyServer<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGetAppsPaginated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Create paginated request</span></span>
<span class="line">    <span class="token class-name">AppsRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AppsRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setLimit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">&quot;chat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;myApp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setIsCreatedByMe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Get paginated applications</span></span>
<span class="line">    <span class="token class-name">AppsResponseResult</span> result <span class="token operator">=</span> difyServer<span class="token punctuation">.</span><span class="token function">apps</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Current page: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Items per page: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Total items: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Has more: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getHasMore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Data size: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-get-application-by-id" tabindex="-1"><a class="header-anchor" href="#_1-3-get-application-by-id"><span>1.3 Get Application by ID</span></a></h3><h4 id="method-2" tabindex="-1"><a class="header-anchor" href="#method-2"><span>Method</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">AppsResponseVO</span> <span class="token function">app</span><span class="token punctuation">(</span><span class="token class-name">String</span> appId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="request-parameters-2" tabindex="-1"><a class="header-anchor" href="#request-parameters-2"><span>Request Parameters</span></a></h4><table><thead><tr><th>Parameter name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>appId</td><td>String</td><td>Yes</td><td>Application ID</td></tr></tbody></table><h4 id="response-parameters-2" tabindex="-1"><a class="header-anchor" href="#response-parameters-2"><span>Response Parameters</span></a></h4><p>Same as the AppsResponseVO structure defined above.</p><h4 id="request-example-2" tabindex="-1"><a class="header-anchor" href="#request-example-2"><span>Request Example</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Resource</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">DifyServer</span> difyServer<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGetApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">AppsResponseVO</span> app <span class="token operator">=</span> difyServer<span class="token punctuation">.</span><span class="token function">app</span><span class="token punctuation">(</span><span class="token string">&quot;app-123456789&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-4-get-application-api-keys" tabindex="-1"><a class="header-anchor" href="#_1-4-get-application-api-keys"><span>1.4 Get Application API Keys</span></a></h3><h4 id="method-3" tabindex="-1"><a class="header-anchor" href="#method-3"><span>Method</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiKeyResponseVO</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAppApiKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="request-parameters-3" tabindex="-1"><a class="header-anchor" href="#request-parameters-3"><span>Request Parameters</span></a></h4><table><thead><tr><th>Parameter name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>Yes</td><td>Application ID</td></tr></tbody></table><h4 id="response-parameters-3" tabindex="-1"><a class="header-anchor" href="#response-parameters-3"><span>Response Parameters</span></a></h4><p>ApiKeyResponseVO</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>API Key ID</td></tr><tr><td>token</td><td>String</td><td>API Key token value</td></tr></tbody></table><h4 id="request-example-3" tabindex="-1"><a class="header-anchor" href="#request-example-3"><span>Request Example</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Resource</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">DifyServer</span> difyServer<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGetAppApiKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiKeyResponseVO</span><span class="token punctuation">&gt;</span></span> apiKeys <span class="token operator">=</span> difyServer<span class="token punctuation">.</span><span class="token function">getAppApiKey</span><span class="token punctuation">(</span><span class="token string">&quot;app-123456789&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-5-initialize-application-api-key" tabindex="-1"><a class="header-anchor" href="#_1-5-initialize-application-api-key"><span>1.5 Initialize Application API Key</span></a></h3><h4 id="method-4" tabindex="-1"><a class="header-anchor" href="#method-4"><span>Method</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiKeyResponseVO</span><span class="token punctuation">&gt;</span></span> <span class="token function">initAppApiKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="request-parameters-4" tabindex="-1"><a class="header-anchor" href="#request-parameters-4"><span>Request Parameters</span></a></h4><table><thead><tr><th>Parameter name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>Yes</td><td>Application ID</td></tr></tbody></table><h4 id="response-parameters-4" tabindex="-1"><a class="header-anchor" href="#response-parameters-4"><span>Response Parameters</span></a></h4><p>Same as the ApiKeyResponseVO structure defined above.</p><h4 id="request-example-4" tabindex="-1"><a class="header-anchor" href="#request-example-4"><span>Request Example</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Resource</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">DifyServer</span> difyServer<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testInitAppApiKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiKeyResponseVO</span><span class="token punctuation">&gt;</span></span> apiKeys <span class="token operator">=</span> difyServer<span class="token punctuation">.</span><span class="token function">initAppApiKey</span><span class="token punctuation">(</span><span class="token string">&quot;app-123456789&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-knowledge-base-management" tabindex="-1"><a class="header-anchor" href="#_2-knowledge-base-management"><span>2. Knowledge Base Management</span></a></h2><h3 id="_2-1-get-knowledge-base-api-keys" tabindex="-1"><a class="header-anchor" href="#_2-1-get-knowledge-base-api-keys"><span>2.1 Get Knowledge Base API Keys</span></a></h3><h4 id="method-5" tabindex="-1"><a class="header-anchor" href="#method-5"><span>Method</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DatasetApiKeyResponseVO</span><span class="token punctuation">&gt;</span></span> <span class="token function">getDatasetApiKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="response-parameters-5" tabindex="-1"><a class="header-anchor" href="#response-parameters-5"><span>Response Parameters</span></a></h4><p>DatasetApiKeyResponseVO</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>API Key ID</td></tr><tr><td>type</td><td>String</td><td>API Key type</td></tr><tr><td>token</td><td>String</td><td>API Key token value</td></tr><tr><td>lastUsedAt</td><td>Long</td><td>Last used time (timestamp)</td></tr><tr><td>createdAt</td><td>Long</td><td>Creation time (timestamp)</td></tr></tbody></table><h4 id="request-example-5" tabindex="-1"><a class="header-anchor" href="#request-example-5"><span>Request Example</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Resource</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">DifyServer</span> difyServer<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGetDatasetApiKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DatasetApiKeyResponseVO</span><span class="token punctuation">&gt;</span></span> datasetApiKeys <span class="token operator">=</span> difyServer<span class="token punctuation">.</span><span class="token function">getDatasetApiKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-initialize-knowledge-base-api-key" tabindex="-1"><a class="header-anchor" href="#_2-2-initialize-knowledge-base-api-key"><span>2.2 Initialize Knowledge Base API Key</span></a></h3><h4 id="method-6" tabindex="-1"><a class="header-anchor" href="#method-6"><span>Method</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DatasetApiKeyResponseVO</span><span class="token punctuation">&gt;</span></span> <span class="token function">initDatasetApiKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="response-parameters-6" tabindex="-1"><a class="header-anchor" href="#response-parameters-6"><span>Response Parameters</span></a></h4><p>Same as the DatasetApiKeyResponseVO structure defined above.</p><h4 id="request-example-6" tabindex="-1"><a class="header-anchor" href="#request-example-6"><span>Request Example</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Resource</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">DifyServer</span> difyServer<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testInitDatasetApiKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DatasetApiKeyResponseVO</span><span class="token punctuation">&gt;</span></span> datasetApiKeys <span class="token operator">=</span> difyServer<span class="token punctuation">.</span><span class="token function">initDatasetApiKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-chat-conversation-management" tabindex="-1"><a class="header-anchor" href="#_3-chat-conversation-management"><span>3. Chat Conversation Management</span></a></h2><h3 id="_3-1-get-application-chat-conversation-list" tabindex="-1"><a class="header-anchor" href="#_3-1-get-application-chat-conversation-list"><span>3.1 Get Application Chat Conversation List</span></a></h3><h4 id="method-7" tabindex="-1"><a class="header-anchor" href="#method-7"><span>Method</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">DifyPageResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ChatConversationResponse</span><span class="token punctuation">&gt;</span></span> <span class="token function">chatConversations</span><span class="token punctuation">(</span><span class="token class-name">ChatConversationsRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="request-parameters-5" tabindex="-1"><a class="header-anchor" href="#request-parameters-5"><span>Request Parameters</span></a></h4><p>ChatConversationsRequest</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>appId</td><td>String</td><td>Yes</td><td>Application ID</td></tr><tr><td>page</td><td>Integer</td><td>No</td><td>Page number (default: 1)</td></tr><tr><td>limit</td><td>Integer</td><td>No</td><td>Number of items per page (default: 10, range: 1-100)</td></tr><tr><td>start</td><td>String</td><td>No</td><td>Start time, format: yyyy-MM-dd HH:mm</td></tr><tr><td>end</td><td>String</td><td>No</td><td>End time, format: yyyy-MM-dd HH:mm</td></tr><tr><td>sortBy</td><td>String</td><td>No</td><td>Sort field, e.g., -created_at (sort by creation time descending)</td></tr><tr><td>annotationStatus</td><td>String</td><td>No</td><td>Annotation status: all, not_annotated, annotated</td></tr></tbody></table><h4 id="response-parameters-7" tabindex="-1"><a class="header-anchor" href="#response-parameters-7"><span>Response Parameters</span></a></h4><p><code>DifyPageResult&lt;ChatConversationResponse&gt;</code></p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>data</td><td><code>List&lt;ChatConversationResponse&gt;</code></td><td>Current page data list</td></tr><tr><td>hasMore</td><td>Boolean</td><td>Whether there are more pages</td></tr><tr><td>limit</td><td>Integer</td><td>Items per page</td></tr><tr><td>page</td><td>Integer</td><td>Current page number</td></tr><tr><td>total</td><td>Integer</td><td>Total number of items</td></tr></tbody></table><p>ChatConversationResponse</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>Conversation ID</td></tr><tr><td>status</td><td>String</td><td>Conversation status</td></tr><tr><td>fromSource</td><td>String</td><td>Source</td></tr><tr><td>fromEndUserId</td><td>String</td><td>End user ID</td></tr><tr><td>fromEndUserSessionId</td><td>String</td><td>End user session ID</td></tr><tr><td>fromAccountId</td><td>String</td><td>Account ID</td></tr><tr><td>fromAccountName</td><td>String</td><td>Account name</td></tr><tr><td>name</td><td>String</td><td>Conversation name</td></tr><tr><td>summary</td><td>String</td><td>Conversation summary</td></tr><tr><td>readAt</td><td>Long</td><td>Read time (timestamp)</td></tr><tr><td>createdAt</td><td>Long</td><td>Creation time (timestamp)</td></tr><tr><td>updatedAt</td><td>Long</td><td>Update time (timestamp)</td></tr><tr><td>annotated</td><td>Boolean</td><td>Whether annotated</td></tr><tr><td>modelConfig</td><td><code>Map&lt;String, Object&gt;</code></td><td>Model configuration</td></tr><tr><td>messageCount</td><td>Integer</td><td>Message count</td></tr><tr><td>userFeedbackStats</td><td>FeedbackStats</td><td>User feedback statistics</td></tr><tr><td>adminFeedbackStats</td><td>FeedbackStats</td><td>Admin feedback statistics</td></tr><tr><td>statusCount</td><td>StatusCount</td><td>Status count</td></tr></tbody></table><p>FeedbackStats</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>like</td><td>Integer</td><td>Like count</td></tr><tr><td>dislike</td><td>Integer</td><td>Dislike count</td></tr></tbody></table><p>StatusCount</p><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>success</td><td>Integer</td><td>Success count</td></tr><tr><td>failed</td><td>Integer</td><td>Failed count</td></tr><tr><td>partialSuccess</td><td>Integer</td><td>Partial success count</td></tr></tbody></table><h4 id="request-example-7" tabindex="-1"><a class="header-anchor" href="#request-example-7"><span>Request Example</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Resource</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">DifyServer</span> difyServer<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGetChatConversations</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Create request object</span></span>
<span class="line">    <span class="token class-name">ChatConversationsRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChatConversationsRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setAppId</span><span class="token punctuation">(</span><span class="token string">&quot;app-123456789&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setLimit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setStart</span><span class="token punctuation">(</span><span class="token string">&quot;2025-10-23 00:00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setEnd</span><span class="token punctuation">(</span><span class="token string">&quot;2025-10-30 23:59&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setAnnotationStatus</span><span class="token punctuation">(</span><span class="token string">&quot;all&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">setSortBy</span><span class="token punctuation">(</span><span class="token string">&quot;-created_at&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Get chat conversation list</span></span>
<span class="line">    <span class="token class-name">DifyPageResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ChatConversationResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> difyServer<span class="token punctuation">.</span><span class="token function">chatConversations</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Current page: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Items per page: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Total items: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Has more: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getHasMore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Data size: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ChatConversationResponse</span> conversation <span class="token operator">:</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Conversation ID: &quot;</span> <span class="token operator">+</span> conversation<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Conversation name: &quot;</span> <span class="token operator">+</span> conversation<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Is annotated: &quot;</span> <span class="token operator">+</span> conversation<span class="token punctuation">.</span><span class="token function">isAnnotated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,95)])])}const l=a(p,[["render",i]]),d=JSON.parse('{"path":"/en/guide/feature/server.html","title":"Server API","lang":"en-US","frontmatter":{"lang":"en-US","title":"Server API","description":null},"git":{"updatedTime":1761792172000,"contributors":[{"name":"yanghq","username":"yanghq","email":"1040926235@qq.com","commits":7,"url":"https://github.com/yanghq"}],"changelog":[{"hash":"0589a34f09eec51bb432b7ce2f7cd01c8d074bb4","time":1761792172000,"email":"1040926235@qq.com","author":"yanghq","message":"doc: chat-conversations api"},{"hash":"63677995e10f4e3f3b165d2b096c255a319f1acf","time":1761790968000,"email":"1040926235@qq.com","author":"yanghq","message":"feat: chat-conversations api"},{"hash":"0948f6eb734958f712b6ac3ab8e1b456487eacb8","time":1761728876000,"email":"1040926235@qq.com","author":"yanghq","message":"doc: update"},{"hash":"d069a3a5a7947ad73bcb346831888771524a93fb","time":1761728642000,"email":"1040926235@qq.com","author":"yanghq","message":"feat: apps api enhancements"},{"hash":"85c6996416acc69d6c46700179cf4322701f540c","time":1744600946000,"email":"1040926235@qq.com","author":"yanghq","message":"fix: update test"},{"hash":"c6c2edb1fab4b549428e9df63508baf42bf775d8","time":1744263215000,"email":"1040926235@qq.com","author":"yanghq","message":"doc: update custom config"},{"hash":"4286f90a3482a47347effe3b8f407afce8dfb2a5","time":1743576822000,"email":"1040926235@qq.com","author":"yanghq","message":"doc: server api"}]},"filePathRelative":"en/guide/feature/server.md"}');export{l as comp,d as data};
